<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Bioacoustic Analysis in R, NMSU 2024 - Introduction to warbleR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Bioacoustic Analysis in R, NMSU 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="./r_basics.html">
 <span class="dropdown-text">R basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sound.html">
 <span class="dropdown-text">Sound</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./spectrograms.html">
 <span class="dropdown-text">Spectrograms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./seewave.html">
 <span class="dropdown-text">seewave</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./annotations.html">
 <span class="dropdown-text">Annotations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./intro_to_warbler.html">
 <span class="dropdown-text">Intro to warbleR</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./measure_acoustic_structure.html">
 <span class="dropdown-text">Measure acoustic structure</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./comparing_methods.html">
 <span class="dropdown-text">Comparing measuring methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./quality_checks.html">
 <span class="dropdown-text">Quality checks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./measure_structure_green_hermit.html">
 <span class="dropdown-text">Measure structure on XC recordings</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-colab-notebooks" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Colab notebooks</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-colab-notebooks">    
        <li>
    <a class="dropdown-item" href="./general_redirect.html">
 <span class="dropdown-text">General</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dynaspec_redirect.html">
 <span class="dropdown-text">dynaSpec</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ohun_redirect.html">
 <span class="dropdown-text">ohun</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./course_prep.html"> 
<span class="menu-text">Course prep</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./code_redirect.html"> 
<span class="menu-text">Code sharing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./instructor.html"> 
<span class="menu-text">Instructor</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/maRce10/NMSU_BIR_2024/"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text">https://github.com/maRce10/NMSU_BIR_2024/</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#selection-tables" id="toc-selection-tables" class="nav-link active" data-scroll-target="#selection-tables"><span class="header-section-number">1</span> Selection tables</a></li>
  <li><a href="#warbler-functions-and-the-workflow-of-analysis-in-bioacoustics" id="toc-warbler-functions-and-the-workflow-of-analysis-in-bioacoustics" class="nav-link" data-scroll-target="#warbler-functions-and-the-workflow-of-analysis-in-bioacoustics"><span class="header-section-number">2</span> <strong>warbleR</strong> functions and the workflow of analysis in bioacoustics</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">3</span> References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><font size="7"><b>Introduction to warbleR</b></font></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>&nbsp;</p>
<section id="objetive" class="level2 unnumbered unlisted alert alert-info">
<h2 class="unnumbered unlisted anchored" data-anchor-id="objetive"><strong>Objetive</strong></h2>
<ul>
<li>Provide and overview of the must relevant tools in the package warbleR</li>
</ul>
</section>
<p>&nbsp;</p>
<p>The <a href="https://cran.r-project.org/package=warbleR">warbleR</a> package is intended to facilitate the analysis of the structure of animal acoustic signals in R. Users can enter their own data into a workflow that facilitates spectrographic visualization and measurement of acoustic parameters <strong>warbleR</strong> makes use of the fundamental sound analysis tools of the <strong>seewave</strong> package, and offers new tools for acoustic structure analysis. These tools are available for batch analysis of acoustic signals.</p>
<p>&nbsp;</p>
<p><font size="4">The main features of the package are:</font></p>
<p><font size="3"></font></p><font size="3">
<ul>
<li>The use of loops to apply tasks through acoustic signals referenced in a selection table:</li>
</ul>
<p>&nbsp;</p>
<p><img src="images/loop_warbleR_optim.gif" alt="warbleR measuring loop" width="500"></p>
<p>&nbsp;</p>
</font><ul><font size="3">
</font><li><font size="3">The production of images files with spectrograms that let users organize data and verify acoustic analyzes: </font></li>
</ul>
<p>&nbsp;</p>
<p><img src="images/loop_warbleR_images_optim.gif" alt="warbleR image loop" width="500"></p>
<p>&nbsp;</p>
<p>The package offers functions for:</p>
<ul>
<li>Browse and download recordings of <a href="http://xeno-canto.org/">Xeno ‐ Canto</a></li>
<li>Explore, organize and manipulate multiple sound files</li>
<li>Detect signals automatically (in frequency and time)</li>
<li>Create spectrograms of complete recordings or individual signals</li>
<li>Run different measures of acoustic signal structure</li>
<li>Evaluate the performance of measurement methods</li>
<li>Catalog signals</li>
<li>Characterize different structural levels in acoustic signals</li>
<li>Statistical analysis of duet coordination</li>
<li>Consolidate databases and annotation tables</li>
</ul>
<p>Most functions allow the parallelization of tasks, which distributes the tasks among several cores to improve computational efficiency. Tools to evaluate the performance of the analysis at each step are also available. All these tools are provided in a standardized workflow for the analysis of the signal structure, making them accessible to a wide range of users, including those without much knowledge of R.</p>
<p><strong>warbleR</strong> is a young package (officially published in 2017) currently in a maturation stage:</p>
<p><img src="images/lifecycle.jpeg" alt="life cycle" width="700"></p>
<p>&nbsp;</p>
<section id="selection-tables" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="selection-tables"><span class="header-section-number">1</span> Selection tables</h2>
<p>These objects are created with the <code>selection_table()</code> function. The function takes data frames containing selection data (name of the sound file, selection, start, end …), verifies if the information is consistent (see the function <code>check_sels()</code> for details) and saves the ‘diagnostic’ metadata as an attribute. The selection tables are basically data frames in which the information contained has been corroborated so it can be read by other <strong>warbleR</strong> functions. The selection tables must contain (at least) the following columns:</p>
<ol type="1">
<li>sound files (sound.files)</li>
<li>selection (select)</li>
<li>start</li>
<li>end</li>
</ol>
<p>The sample data “lbh_selec_table” contains these columns:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"lbh_selec_table"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>lbh_selec_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 21%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">channel</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.1693549</td>
<td style="text-align: right;">1.3423884</td>
<td style="text-align: right;">2.220105</td>
<td style="text-align: right;">8.604378</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.1584085</td>
<td style="text-align: right;">2.3214565</td>
<td style="text-align: right;">2.169437</td>
<td style="text-align: right;">8.807053</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.3433366</td>
<td style="text-align: right;">0.5182553</td>
<td style="text-align: right;">2.218294</td>
<td style="text-align: right;">8.756604</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1595983</td>
<td style="text-align: right;">0.2921692</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">8.822316</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.4570585</td>
<td style="text-align: right;">1.5832087</td>
<td style="text-align: right;">2.284006</td>
<td style="text-align: right;">8.888027</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.6265520</td>
<td style="text-align: right;">0.7577715</td>
<td style="text-align: right;">3.006834</td>
<td style="text-align: right;">8.822316</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.9742132</td>
<td style="text-align: right;">2.1043921</td>
<td style="text-align: right;">2.776843</td>
<td style="text-align: right;">8.888027</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1233643</td>
<td style="text-align: right;">0.2545812</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">9.315153</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.5168116</td>
<td style="text-align: right;">1.6622365</td>
<td style="text-align: right;">2.513997</td>
<td style="text-align: right;">9.216586</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.9326920</td>
<td style="text-align: right;">3.0768784</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">10.235116</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1453977</td>
<td style="text-align: right;">0.2904966</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">9.742279</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>… and can be converted to the <em>selection_table</em> format like this:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># global parameters</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">warbleR_options</span>(<span class="at">wav.path =</span> <span class="st">"./examples"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>st <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(<span class="at">X =</span> lbh_selec_table, <span class="at">pb =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>st</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 21%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">channel</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.1693549</td>
<td style="text-align: right;">1.3423884</td>
<td style="text-align: right;">2.220105</td>
<td style="text-align: right;">8.604378</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.1584085</td>
<td style="text-align: right;">2.3214565</td>
<td style="text-align: right;">2.169437</td>
<td style="text-align: right;">8.807053</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.3433366</td>
<td style="text-align: right;">0.5182553</td>
<td style="text-align: right;">2.218294</td>
<td style="text-align: right;">8.756604</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1595983</td>
<td style="text-align: right;">0.2921692</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">8.822316</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.4570585</td>
<td style="text-align: right;">1.5832087</td>
<td style="text-align: right;">2.284006</td>
<td style="text-align: right;">8.888027</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.6265520</td>
<td style="text-align: right;">0.7577715</td>
<td style="text-align: right;">3.006834</td>
<td style="text-align: right;">8.822316</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.9742132</td>
<td style="text-align: right;">2.1043921</td>
<td style="text-align: right;">2.776843</td>
<td style="text-align: right;">8.888027</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1233643</td>
<td style="text-align: right;">0.2545812</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">9.315153</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.5168116</td>
<td style="text-align: right;">1.6622365</td>
<td style="text-align: right;">2.513997</td>
<td style="text-align: right;">9.216586</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.9326920</td>
<td style="text-align: right;">3.0768784</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">10.235116</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1453977</td>
<td style="text-align: right;">0.2904966</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">9.742279</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Note that the path to the sound files has been provided. This is necessary in order to verify that the data provided conforms to the characteristics of the audio files.</p>
<p>Selection tables have their own class in R:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "selection_table" "data.frame"     </code></pre>
</div>
</div>
<p>&nbsp;</p>
<section id="extended-selection-tables" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="extended-selection-tables"><span class="header-section-number">1.1</span> Extended selection tables</h3>
<p>When the <code>extended = TRUE</code> argument the function generates an object of the <em>extended_selection_table</em> class that also contains a list of ‘wave’ objects corresponding to each of the selections in the data. Therefore, the function <strong>transforms the selection table into self-contained objects</strong> since the original sound files are no longer needed to perform most of the acoustic analysis in <strong>warbleR</strong>. This can greatly facilitate the storage and exchange of (bio)acoustic data. In addition, it also speeds up analysis, since it is not necessary to read the sound files every time the data is analyzed.</p>
<p>Now, as mentioned earlier, you need the <code>selection_table()</code> function to create an extended selection table. You must also set the argument <code>extended = TRUE</code> (otherwise, the class would be a selection table). The following code converts the sample data into an extended selection table:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  global parameters</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">warbleR_options</span>(<span class="at">wav.path =</span> <span class="st">"./examples"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>ext_st <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(<span class="at">X =</span> lbh_selec_table, <span class="at">pb =</span> <span class="cn">FALSE</span>, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">extended =</span> <span class="cn">TRUE</span>, <span class="at">confirm.extended =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>And that is. Now the acoustic data and the selection data (as well as the additional metadata) are all together in a single R object.</p>
<p>&nbsp;</p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p>&nbsp;</p>
<ul>
<li><p>Run the example code in the <code>selection_table()</code> function documentation</p></li>
<li><p>What do the arguments “mar”, “by.song” and “whole.recs” do?</p></li>
</ul>
</div>
<p>&nbsp;</p>
</section>
<section id="handling-extended-selection-tables" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="handling-extended-selection-tables"><span class="header-section-number">1.2</span> Handling extended selection tables</h3>
<p>Several functions can be used to deal with objects of this class. You can test if the object belongs to the <em>extended_selection_table</em>:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_extended_selection_table</span>(ext_st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>You can subset the selection in the same way that any other data frame and it will still keep its attributes:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ext_st2 <span class="ot">&lt;-</span> ext_st[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is_extended_selection_table</span>(ext_st2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>There is also a generic version of <code>print()</code> for this class of objects:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## print</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ext_st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Object of class 'extended_selection_table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* The output of the following call:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>selection_table(X = lbh_selec_table, extended = TRUE, confirm.extended = FALSE,  pb = FALSE)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Contains: 
*  A selection table data frame with 11 row(s) and 7 columns:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|sound.files      | channel| selec| start|    end| bottom.freq|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|:----------------|-------:|-----:|-----:|------:|-----------:|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... 1 more column(s) (top.freq)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> and 5 more row(s)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* 11 wave object(s) (as attributes): </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Phae.long1.wav_1, Phae.long1.wav_2, Phae.long1.wav_3, Phae.long2.wav_1, Phae.long2.wav_2, Phae.long3.wav_1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... and 5 more</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* A data frame (check.results) with 11 rows generated by check_sels() (as attribute)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
The selection table was created by element (see 'class_extended_selection_table')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 sampling rate(s) (in kHz): 22.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 bit depth(s): 16</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* Created by warbleR 1.1.30</code></pre>
</div>
</div>
<p>… which is equivalent to:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>ext_st</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Object of class 'extended_selection_table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* The output of the following call:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>selection_table(X = lbh_selec_table, extended = TRUE, confirm.extended = FALSE,  pb = FALSE)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Contains: 
*  A selection table data frame with 11 row(s) and 7 columns:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|sound.files      | channel| selec| start|    end| bottom.freq|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|:----------------|-------:|-----:|-----:|------:|-----------:|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... 1 more column(s) (top.freq)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> and 5 more row(s)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* 11 wave object(s) (as attributes): </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Phae.long1.wav_1, Phae.long1.wav_2, Phae.long1.wav_3, Phae.long2.wav_1, Phae.long2.wav_2, Phae.long3.wav_1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... and 5 more</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* A data frame (check.results) with 11 rows generated by check_sels() (as attribute)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
The selection table was created by element (see 'class_extended_selection_table')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 sampling rate(s) (in kHz): 22.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 bit depth(s): 16</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* Created by warbleR 1.1.30</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>You can also join them in rows. Here the original <em>extended_selection_table</em> is divided into 2 and bound again using <code>rbind()</code>:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>ext_st3 <span class="ot">&lt;-</span> ext_st[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, ]</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>ext_st4 <span class="ot">&lt;-</span> ext_st[<span class="dv">6</span><span class="sc">:</span><span class="dv">11</span>, ]</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>ext_st5 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(ext_st3, ext_st4)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="co">#print</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>ext_st5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Object of class 'extended_selection_table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* The output of the following call:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>rbind(deparse.level, ..1, ..2)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Contains: 
*  A selection table data frame with 11 row(s) and 7 columns:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|sound.files      | channel| selec| start|    end| bottom.freq|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|:----------------|-------:|-----:|-----:|------:|-----------:|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... 1 more column(s) (top.freq)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> and 5 more row(s)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* 11 wave object(s) (as attributes): </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Phae.long1.wav_1, Phae.long1.wav_2, Phae.long1.wav_3, Phae.long2.wav_1, Phae.long2.wav_2, Phae.long3.wav_1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... and 5 more</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* A data frame (check.results) with 11 rows generated by check_sels() (as attribute)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
The selection table was created by element (see 'class_extended_selection_table')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 sampling rate(s) (in kHz): 22.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 bit depth(s): 16</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* Created by warbleR 1.1.30</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># are they equal?</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(ext_st, ext_st5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Attributes: &lt; Component \"call\": target, current do not match when deparsed &gt;"</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>The ‘wave’ objects can be read individually using <code>read_wave()</code>, a wrapper for the <code>readWave()</code> function of <strong>tuneR</strong>, which can handle extended selection tables:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>wv1 <span class="ot">&lt;-</span> <span class="fu">read_wave</span>(<span class="at">X =</span> ext_st, <span class="at">index =</span> <span class="dv">3</span>, <span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="fl">0.37</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>These are regular ‘wave’ objects:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(wv1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Wave"
attr(,"package")
[1] "tuneR"</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>wv1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Wave Object
    Number of Samples:      8325
    Duration (seconds):     0.37
    Samplingrate (Hertz):   22500
    Channels (Mono/Stereo): Mono
    PCM (integer format):   TRUE
    Bit (8/16/24/32/64):    16 </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spectro</span>(wv1, <span class="at">wl =</span> <span class="dv">150</span>, <span class="at">grid =</span> <span class="cn">FALSE</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>, <span class="at">ovlp =</span> <span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-1" class="quarto-figure quarto-figure-center anchored" width="750">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="intro_to_warbler_files/figure-html/extn_sel_8.22-1.png" id="fig-539a35d47e664c97a50115a146a7f1bd-1" class="img-fluid figure-img" width="750">
</div>
</figure>
</div>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>){</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  wv <span class="ot">&lt;-</span> <span class="fu">read_wave</span>(<span class="at">X =</span> ext_st, <span class="at">index =</span> i, <span class="at">from =</span> <span class="fl">0.05</span>, <span class="at">to =</span> <span class="fl">0.32</span>)</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spectro</span>(wv, <span class="at">wl =</span> <span class="dv">150</span>, <span class="at">grid =</span> <span class="cn">FALSE</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>, <span class="at">axisX =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">axisY =</span> <span class="cn">FALSE</span>, <span class="at">ovlp =</span> <span class="dv">90</span>)</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-2" class="quarto-figure quarto-figure-center anchored" width="750">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="intro_to_warbler_files/figure-html/extn_sel_8.23-1.png" id="fig-539a35d47e664c97a50115a146a7f1bd-2" class="img-fluid figure-img" width="750">
</div>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>The <code>read_wave()</code> function requires the selection table, as well as the row index (i.e.&nbsp;the row number) to be able to read the ‘wave’ objects. It can also read a regular ‘wave’ file if the path is provided.</p>
<p>Note that other functions that modify data frames are likely to delete the attributes in which the ‘wave’ objects and metadata are stored. For example, the merge and the extended selection box will remove its attributes:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create new data base</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">sound.files =</span> ext_st<span class="sc">$</span>sound.files, <span class="at">site =</span> <span class="st">"La Selva"</span>, <span class="at">lek =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"SUR"</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="st">"CCL"</span>, <span class="dv">6</span>)))</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># combine</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>mrg_ext_st <span class="ot">&lt;-</span> <span class="fu">merge</span>(ext_st, Y, <span class="at">by =</span> <span class="st">"sound.files"</span>)</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="co"># check class</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="fu">is_extended_selection_table</span>(mrg_ext_st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>In this case, we can use the <code>fix_extended_selection_table()</code> function to transfer the attributes of the original extended selection table:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fix</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>mrg_ext_st <span class="ot">&lt;-</span> <span class="fu">fix_extended_selection_table</span>(<span class="at">X =</span> mrg_ext_st, <span class="at">Y =</span> ext_st)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check class</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is_extended_selection_table</span>(mrg_ext_st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>This works as long as some of the original sound files are retained and no other selections are added.</p>
<p>&amp; nbsp;</p>
</section>
<section id="selection-table-size" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="selection-table-size"><span class="header-section-number">1.3</span> Selection table size</h3>
<p>The size of the extended selection box will depend on the number of selections, the sampling rate, the duration of the selection and the length of margins (i.e.&nbsp;additional time you want to keep on each side of the selection). In this example, a selection table with 1000 selections is created simply by repeating the sample data frame several times and then is converted to an extended selection table:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>lng.selec.table <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">replicate</span>(<span class="dv">100</span>, lbh_selec_table, </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">simplify =</span> <span class="cn">FALSE</span>))[<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>,]</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>lng.selec.table<span class="sc">$</span>selec <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(lng.selec.table)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(lng.selec.table)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>lng_ext_st <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(<span class="at">X =</span> lng.selec.table, <span class="at">pb =</span> <span class="cn">FALSE</span>, </span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">extended =</span> <span class="cn">TRUE</span>, <span class="at">confirm.extended =</span> <span class="cn">FALSE</span>)</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>lng_ext_st</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Object of class 'extended_selection_table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* The output of the following call:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>selection_table(X = lng.selec.table, extended = TRUE, confirm.extended = FALSE,  pb = FALSE)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Contains: 
*  A selection table data frame with 1000 row(s) and 7 columns:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|sound.files      | channel| selec| start|    end| bottom.freq|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|:----------------|-------:|-----:|-----:|------:|-----------:|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_4 |       1|     1|   0.1| 0.2326|      2.3169|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long2.wav_5 |       1|     1|   0.1| 0.2262|      2.2840|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|Phae.long3.wav_6 |       1|     1|   0.1| 0.2312|      3.0068|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... 1 more column(s) (top.freq)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> and 994 more row(s)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* 1000 wave object(s) (as attributes): </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Phae.long1.wav_1, Phae.long1.wav_2, Phae.long1.wav_3, Phae.long2.wav_4, Phae.long2.wav_5, Phae.long3.wav_6</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>... and 994 more</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
* A data frame (check.results) with 1000 rows generated by check_sels() (as attribute)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
The selection table was created by element (see 'class_extended_selection_table')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 sampling rate(s) (in kHz): 22.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* 1 bit depth(s): 16</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>* Created by warbleR 1.1.30</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">object.size</span>(lng_ext_st), <span class="at">units =</span> <span class="st">"auto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "31.4 Mb"</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>As you can see, the object size is only ~ 31 MB. Then, as a guide, a selection box with 1000 selections similar to those of ‘lbh_selec_table’ (average duration of ~ 0.15 seconds) at a sampling rate of 22.5 kHz and the default margin (mar = 0.1) will generate an extended selection box ~ 31 MB or ~ 310 MB for a selection table of 10,000 rows.</p>
<p>&nbsp;</p>
</section>
<section id="analysis-using-extended-selection-tables" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="analysis-using-extended-selection-tables"><span class="header-section-number">1.4</span> Analysis using extended selection tables</h3>
<p>These objects can be used as input for most <strong>warbleR</strong> functions. Here are some examples of <strong>warbleR</strong> functions using <em>extended_selection_table</em>:</p>
<section id="spectral-parameters" class="level4" data-number="1.4.1">
<h4 data-number="1.4.1" class="anchored" data-anchor-id="spectral-parameters"><span class="header-section-number">1.4.1</span> Spectral parameters</h4>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  spectrographic parameters</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>sp <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(ext_st)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>sp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">duration</th>
<th style="text-align: right;">meanfreq</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">freq.median</th>
<th style="text-align: right;">freq.Q25</th>
<th style="text-align: right;">freq.Q75</th>
<th style="text-align: right;">freq.IQR</th>
<th style="text-align: right;">time.median</th>
<th style="text-align: right;">time.Q25</th>
<th style="text-align: right;">time.Q75</th>
<th style="text-align: right;">time.IQR</th>
<th style="text-align: right;">skew</th>
<th style="text-align: right;">kurt</th>
<th style="text-align: right;">sp.ent</th>
<th style="text-align: right;">time.ent</th>
<th style="text-align: right;">entropy</th>
<th style="text-align: right;">sfm</th>
<th style="text-align: right;">meandom</th>
<th style="text-align: right;">mindom</th>
<th style="text-align: right;">maxdom</th>
<th style="text-align: right;">dfrange</th>
<th style="text-align: right;">modindx</th>
<th style="text-align: right;">startdom</th>
<th style="text-align: right;">enddom</th>
<th style="text-align: right;">dfslope</th>
<th style="text-align: right;">meanpeakf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1730334</td>
<td style="text-align: right;">5.981221</td>
<td style="text-align: right;">1.399804</td>
<td style="text-align: right;">6.331716</td>
<td style="text-align: right;">5.296584</td>
<td style="text-align: right;">6.869521</td>
<td style="text-align: right;">1.572937</td>
<td style="text-align: right;">0.0798564</td>
<td style="text-align: right;">0.0532376</td>
<td style="text-align: right;">0.1197846</td>
<td style="text-align: right;">0.0665470</td>
<td style="text-align: right;">2.001382</td>
<td style="text-align: right;">7.025606</td>
<td style="text-align: right;">0.9434888</td>
<td style="text-align: right;">0.9493322</td>
<td style="text-align: right;">0.8956843</td>
<td style="text-align: right;">0.6518306</td>
<td style="text-align: right;">6.663993</td>
<td style="text-align: right;">5.251465</td>
<td style="text-align: right;">7.360840</td>
<td style="text-align: right;">2.109375</td>
<td style="text-align: right;">2.895833</td>
<td style="text-align: right;">7.316895</td>
<td style="text-align: right;">7.185059</td>
<td style="text-align: right;">-0.7619101</td>
<td style="text-align: right;">7.108806</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1630480</td>
<td style="text-align: right;">5.997299</td>
<td style="text-align: right;">1.422930</td>
<td style="text-align: right;">6.212125</td>
<td style="text-align: right;">5.328746</td>
<td style="text-align: right;">6.880795</td>
<td style="text-align: right;">1.552049</td>
<td style="text-align: right;">0.0815333</td>
<td style="text-align: right;">0.0407667</td>
<td style="text-align: right;">0.1223000</td>
<td style="text-align: right;">0.0815333</td>
<td style="text-align: right;">1.918356</td>
<td style="text-align: right;">7.334323</td>
<td style="text-align: right;">0.9468217</td>
<td style="text-align: right;">0.9536154</td>
<td style="text-align: right;">0.9029038</td>
<td style="text-align: right;">0.6678647</td>
<td style="text-align: right;">6.830116</td>
<td style="text-align: right;">5.295410</td>
<td style="text-align: right;">8.283691</td>
<td style="text-align: right;">2.988281</td>
<td style="text-align: right;">2.661765</td>
<td style="text-align: right;">7.185059</td>
<td style="text-align: right;">7.229004</td>
<td style="text-align: right;">0.2695238</td>
<td style="text-align: right;">6.931635</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1749187</td>
<td style="text-align: right;">6.018300</td>
<td style="text-align: right;">1.514853</td>
<td style="text-align: right;">6.424759</td>
<td style="text-align: right;">5.150246</td>
<td style="text-align: right;">6.979144</td>
<td style="text-align: right;">1.828898</td>
<td style="text-align: right;">0.0941949</td>
<td style="text-align: right;">0.0538256</td>
<td style="text-align: right;">0.1345641</td>
<td style="text-align: right;">0.0807385</td>
<td style="text-align: right;">2.496740</td>
<td style="text-align: right;">11.147728</td>
<td style="text-align: right;">0.9450838</td>
<td style="text-align: right;">0.9515916</td>
<td style="text-align: right;">0.8993339</td>
<td style="text-align: right;">0.6716602</td>
<td style="text-align: right;">6.773856</td>
<td style="text-align: right;">4.899902</td>
<td style="text-align: right;">8.371582</td>
<td style="text-align: right;">3.471680</td>
<td style="text-align: right;">3.240506</td>
<td style="text-align: right;">7.185059</td>
<td style="text-align: right;">7.185059</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">6.798757</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1325709</td>
<td style="text-align: right;">6.398304</td>
<td style="text-align: right;">1.340412</td>
<td style="text-align: right;">6.595971</td>
<td style="text-align: right;">5.607323</td>
<td style="text-align: right;">7.380852</td>
<td style="text-align: right;">1.773529</td>
<td style="text-align: right;">0.0736543</td>
<td style="text-align: right;">0.0589235</td>
<td style="text-align: right;">0.1031160</td>
<td style="text-align: right;">0.0441926</td>
<td style="text-align: right;">1.568523</td>
<td style="text-align: right;">6.016392</td>
<td style="text-align: right;">0.9424661</td>
<td style="text-align: right;">0.9433998</td>
<td style="text-align: right;">0.8891223</td>
<td style="text-align: right;">0.6086184</td>
<td style="text-align: right;">6.341309</td>
<td style="text-align: right;">5.075684</td>
<td style="text-align: right;">7.404785</td>
<td style="text-align: right;">2.329102</td>
<td style="text-align: right;">2.830189</td>
<td style="text-align: right;">5.075684</td>
<td style="text-align: right;">6.657715</td>
<td style="text-align: right;">11.9334722</td>
<td style="text-align: right;">7.463147</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1261502</td>
<td style="text-align: right;">6.308252</td>
<td style="text-align: right;">1.369242</td>
<td style="text-align: right;">6.596836</td>
<td style="text-align: right;">5.605837</td>
<td style="text-align: right;">7.207292</td>
<td style="text-align: right;">1.601455</td>
<td style="text-align: right;">0.0840889</td>
<td style="text-align: right;">0.0560593</td>
<td style="text-align: right;">0.0981037</td>
<td style="text-align: right;">0.0420444</td>
<td style="text-align: right;">2.470897</td>
<td style="text-align: right;">10.896039</td>
<td style="text-align: right;">0.9357725</td>
<td style="text-align: right;">0.9436684</td>
<td style="text-align: right;">0.8830589</td>
<td style="text-align: right;">0.6152336</td>
<td style="text-align: right;">6.411621</td>
<td style="text-align: right;">5.075684</td>
<td style="text-align: right;">7.580566</td>
<td style="text-align: right;">2.504883</td>
<td style="text-align: right;">2.087719</td>
<td style="text-align: right;">5.075684</td>
<td style="text-align: right;">7.580566</td>
<td style="text-align: right;">19.8563528</td>
<td style="text-align: right;">6.710171</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1312195</td>
<td style="text-align: right;">6.605993</td>
<td style="text-align: right;">1.090498</td>
<td style="text-align: right;">6.665328</td>
<td style="text-align: right;">6.063201</td>
<td style="text-align: right;">7.336052</td>
<td style="text-align: right;">1.272851</td>
<td style="text-align: right;">0.0583111</td>
<td style="text-align: right;">0.0437333</td>
<td style="text-align: right;">0.1020444</td>
<td style="text-align: right;">0.0583111</td>
<td style="text-align: right;">1.770551</td>
<td style="text-align: right;">6.665163</td>
<td style="text-align: right;">0.9303558</td>
<td style="text-align: right;">0.9460672</td>
<td style="text-align: right;">0.8801790</td>
<td style="text-align: right;">0.5664857</td>
<td style="text-align: right;">6.481934</td>
<td style="text-align: right;">4.899902</td>
<td style="text-align: right;">7.009277</td>
<td style="text-align: right;">2.109375</td>
<td style="text-align: right;">1.520833</td>
<td style="text-align: right;">4.899902</td>
<td style="text-align: right;">6.965332</td>
<td style="text-align: right;">15.7402610</td>
<td style="text-align: right;">6.710171</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1301789</td>
<td style="text-align: right;">6.639859</td>
<td style="text-align: right;">1.117356</td>
<td style="text-align: right;">6.674164</td>
<td style="text-align: right;">6.105325</td>
<td style="text-align: right;">7.427493</td>
<td style="text-align: right;">1.322168</td>
<td style="text-align: right;">0.0723210</td>
<td style="text-align: right;">0.0433926</td>
<td style="text-align: right;">0.1012494</td>
<td style="text-align: right;">0.0578568</td>
<td style="text-align: right;">1.545851</td>
<td style="text-align: right;">4.969900</td>
<td style="text-align: right;">0.9232849</td>
<td style="text-align: right;">0.9490351</td>
<td style="text-align: right;">0.8762298</td>
<td style="text-align: right;">0.5317422</td>
<td style="text-align: right;">6.244629</td>
<td style="text-align: right;">5.031738</td>
<td style="text-align: right;">6.701660</td>
<td style="text-align: right;">1.669922</td>
<td style="text-align: right;">1.368421</td>
<td style="text-align: right;">5.031738</td>
<td style="text-align: right;">6.613770</td>
<td style="text-align: right;">12.1527447</td>
<td style="text-align: right;">6.665879</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1312170</td>
<td style="text-align: right;">6.580739</td>
<td style="text-align: right;">1.253000</td>
<td style="text-align: right;">6.646959</td>
<td style="text-align: right;">6.029463</td>
<td style="text-align: right;">7.394054</td>
<td style="text-align: right;">1.364591</td>
<td style="text-align: right;">0.0583111</td>
<td style="text-align: right;">0.0437333</td>
<td style="text-align: right;">0.1020444</td>
<td style="text-align: right;">0.0583111</td>
<td style="text-align: right;">1.802520</td>
<td style="text-align: right;">5.886959</td>
<td style="text-align: right;">0.9191879</td>
<td style="text-align: right;">0.9533815</td>
<td style="text-align: right;">0.8763367</td>
<td style="text-align: right;">0.5258369</td>
<td style="text-align: right;">6.231445</td>
<td style="text-align: right;">5.427246</td>
<td style="text-align: right;">6.833496</td>
<td style="text-align: right;">1.406250</td>
<td style="text-align: right;">1.656250</td>
<td style="text-align: right;">5.471191</td>
<td style="text-align: right;">6.657715</td>
<td style="text-align: right;">9.0424551</td>
<td style="text-align: right;">6.710171</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1454249</td>
<td style="text-align: right;">6.219479</td>
<td style="text-align: right;">1.478869</td>
<td style="text-align: right;">6.233074</td>
<td style="text-align: right;">5.456261</td>
<td style="text-align: right;">7.305488</td>
<td style="text-align: right;">1.849227</td>
<td style="text-align: right;">0.0872533</td>
<td style="text-align: right;">0.0436267</td>
<td style="text-align: right;">0.1163378</td>
<td style="text-align: right;">0.0727111</td>
<td style="text-align: right;">1.274811</td>
<td style="text-align: right;">4.458109</td>
<td style="text-align: right;">0.9643357</td>
<td style="text-align: right;">0.9520564</td>
<td style="text-align: right;">0.9181020</td>
<td style="text-align: right;">0.7599268</td>
<td style="text-align: right;">6.270197</td>
<td style="text-align: right;">5.119629</td>
<td style="text-align: right;">7.844238</td>
<td style="text-align: right;">2.724609</td>
<td style="text-align: right;">2.709677</td>
<td style="text-align: right;">5.383301</td>
<td style="text-align: right;">6.262207</td>
<td style="text-align: right;">6.0437118</td>
<td style="text-align: right;">6.222951</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1441864</td>
<td style="text-align: right;">6.462809</td>
<td style="text-align: right;">1.592876</td>
<td style="text-align: right;">6.338070</td>
<td style="text-align: right;">5.630777</td>
<td style="text-align: right;">7.572366</td>
<td style="text-align: right;">1.941589</td>
<td style="text-align: right;">0.0865067</td>
<td style="text-align: right;">0.0432533</td>
<td style="text-align: right;">0.1153422</td>
<td style="text-align: right;">0.0720889</td>
<td style="text-align: right;">1.695847</td>
<td style="text-align: right;">6.442755</td>
<td style="text-align: right;">0.9585943</td>
<td style="text-align: right;">0.9526078</td>
<td style="text-align: right;">0.9131645</td>
<td style="text-align: right;">0.7199148</td>
<td style="text-align: right;">6.294167</td>
<td style="text-align: right;">4.108887</td>
<td style="text-align: right;">8.151855</td>
<td style="text-align: right;">4.042969</td>
<td style="text-align: right;">2.478261</td>
<td style="text-align: right;">5.427246</td>
<td style="text-align: right;">4.108887</td>
<td style="text-align: right;">-9.1434347</td>
<td style="text-align: right;">6.222951</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1450989</td>
<td style="text-align: right;">6.122156</td>
<td style="text-align: right;">1.541046</td>
<td style="text-align: right;">6.081716</td>
<td style="text-align: right;">5.178639</td>
<td style="text-align: right;">7.239860</td>
<td style="text-align: right;">2.061221</td>
<td style="text-align: right;">0.0870667</td>
<td style="text-align: right;">0.0435333</td>
<td style="text-align: right;">0.1160889</td>
<td style="text-align: right;">0.0725556</td>
<td style="text-align: right;">1.083042</td>
<td style="text-align: right;">4.194037</td>
<td style="text-align: right;">0.9642064</td>
<td style="text-align: right;">0.9536971</td>
<td style="text-align: right;">0.9195608</td>
<td style="text-align: right;">0.7332565</td>
<td style="text-align: right;">6.150346</td>
<td style="text-align: right;">4.943848</td>
<td style="text-align: right;">7.888184</td>
<td style="text-align: right;">2.944336</td>
<td style="text-align: right;">3.149254</td>
<td style="text-align: right;">5.339355</td>
<td style="text-align: right;">5.031738</td>
<td style="text-align: right;">-2.1200514</td>
<td style="text-align: right;">5.912903</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="signal-to-noise-ratio" class="level4" data-number="1.4.2">
<h4 data-number="1.4.2" class="anchored" data-anchor-id="signal-to-noise-ratio"><span class="header-section-number">1.4.2</span> Signal-to-noise ratio</h4>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>snr <span class="ot">&lt;-</span> <span class="fu">sig2noise</span>(ext_st, <span class="at">mar =</span> <span class="fl">0.05</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>snr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 21%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">channel</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
<th style="text-align: right;">SNR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2730334</td>
<td style="text-align: right;">2.220105</td>
<td style="text-align: right;">8.604378</td>
<td style="text-align: right;">21.17229</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2630480</td>
<td style="text-align: right;">2.169437</td>
<td style="text-align: right;">8.807053</td>
<td style="text-align: right;">20.36896</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2749187</td>
<td style="text-align: right;">2.218294</td>
<td style="text-align: right;">8.756604</td>
<td style="text-align: right;">19.18211</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2325709</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">23.27961</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2261502</td>
<td style="text-align: right;">2.284006</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">26.21774</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2312195</td>
<td style="text-align: right;">3.006834</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">25.34264</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2301789</td>
<td style="text-align: right;">2.776843</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">25.51099</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2312170</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">9.315153</td>
<td style="text-align: right;">24.68619</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2454249</td>
<td style="text-align: right;">2.513997</td>
<td style="text-align: right;">9.216586</td>
<td style="text-align: right;">27.61899</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2441864</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">10.235116</td>
<td style="text-align: right;">28.87451</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2450989</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">9.742279</td>
<td style="text-align: right;">24.30149</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="dynamic-time-warping-dtw" class="level4" data-number="1.4.3">
<h4 data-number="1.4.3" class="anchored" data-anchor-id="dynamic-time-warping-dtw"><span class="header-section-number">1.4.3</span> Dynamic time warping (DTW)</h4>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>dtw.dist <span class="ot">&lt;-</span> <span class="fu">freq_DTW</span>(ext_st, <span class="at">img =</span> <span class="cn">FALSE</span>)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>dtw.dist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>dtw.dist <span class="ot">&lt;-</span> <span class="fu">freq_DTW</span>(ext_st, <span class="at">img =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>measuring dominant frequency contours (step 1 of 2): </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Measuring fundamental frequency:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>calculating DTW distances (step 2 of 2, no progress bar):</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(dtw.dist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Phae.long1.wav_1-1</th>
<th style="text-align: right;">Phae.long1.wav_2-1</th>
<th style="text-align: right;">Phae.long1.wav_3-1</th>
<th style="text-align: right;">Phae.long2.wav_1-1</th>
<th style="text-align: right;">Phae.long2.wav_2-1</th>
<th style="text-align: right;">Phae.long3.wav_1-1</th>
<th style="text-align: right;">Phae.long3.wav_2-1</th>
<th style="text-align: right;">Phae.long3.wav_3-1</th>
<th style="text-align: right;">Phae.long4.wav_1-1</th>
<th style="text-align: right;">Phae.long4.wav_2-1</th>
<th style="text-align: right;">Phae.long4.wav_3-1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_1-1</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">8.6272</td>
<td style="text-align: right;">4.3390</td>
<td style="text-align: right;">16.6319</td>
<td style="text-align: right;">16.6161</td>
<td style="text-align: right;">13.8153</td>
<td style="text-align: right;">15.6860</td>
<td style="text-align: right;">15.5245</td>
<td style="text-align: right;">18.6621</td>
<td style="text-align: right;">20.8855</td>
<td style="text-align: right;">21.5606</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav_2-1</td>
<td style="text-align: right;">8.6272</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">6.9803</td>
<td style="text-align: right;">22.1235</td>
<td style="text-align: right;">29.1274</td>
<td style="text-align: right;">16.7363</td>
<td style="text-align: right;">22.3731</td>
<td style="text-align: right;">23.0249</td>
<td style="text-align: right;">15.8250</td>
<td style="text-align: right;">16.6372</td>
<td style="text-align: right;">19.4517</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav_3-1</td>
<td style="text-align: right;">4.3390</td>
<td style="text-align: right;">6.9803</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">18.2558</td>
<td style="text-align: right;">20.5344</td>
<td style="text-align: right;">15.2054</td>
<td style="text-align: right;">18.4506</td>
<td style="text-align: right;">16.4662</td>
<td style="text-align: right;">17.2609</td>
<td style="text-align: right;">19.1440</td>
<td style="text-align: right;">21.1586</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav_1-1</td>
<td style="text-align: right;">16.6319</td>
<td style="text-align: right;">22.1235</td>
<td style="text-align: right;">18.2558</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">12.1572</td>
<td style="text-align: right;">10.3686</td>
<td style="text-align: right;">11.2207</td>
<td style="text-align: right;">12.0419</td>
<td style="text-align: right;">12.4495</td>
<td style="text-align: right;">13.5389</td>
<td style="text-align: right;">15.3083</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav_2-1</td>
<td style="text-align: right;">16.6161</td>
<td style="text-align: right;">29.1274</td>
<td style="text-align: right;">20.5344</td>
<td style="text-align: right;">12.1572</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">6.7586</td>
<td style="text-align: right;">5.3403</td>
<td style="text-align: right;">8.6988</td>
<td style="text-align: right;">17.5231</td>
<td style="text-align: right;">20.5990</td>
<td style="text-align: right;">18.9194</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_1-1</td>
<td style="text-align: right;">13.8153</td>
<td style="text-align: right;">16.7363</td>
<td style="text-align: right;">15.2054</td>
<td style="text-align: right;">10.3686</td>
<td style="text-align: right;">6.7586</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">3.6377</td>
<td style="text-align: right;">4.4201</td>
<td style="text-align: right;">13.2529</td>
<td style="text-align: right;">15.6284</td>
<td style="text-align: right;">15.6699</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav_2-1</td>
<td style="text-align: right;">15.6860</td>
<td style="text-align: right;">22.3731</td>
<td style="text-align: right;">18.4506</td>
<td style="text-align: right;">11.2207</td>
<td style="text-align: right;">5.3403</td>
<td style="text-align: right;">3.6377</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">3.6451</td>
<td style="text-align: right;">13.6515</td>
<td style="text-align: right;">15.9499</td>
<td style="text-align: right;">14.4185</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav_3-1</td>
<td style="text-align: right;">15.5245</td>
<td style="text-align: right;">23.0249</td>
<td style="text-align: right;">16.4662</td>
<td style="text-align: right;">12.0419</td>
<td style="text-align: right;">8.6988</td>
<td style="text-align: right;">4.4201</td>
<td style="text-align: right;">3.6451</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">11.0352</td>
<td style="text-align: right;">13.7203</td>
<td style="text-align: right;">12.3019</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_1-1</td>
<td style="text-align: right;">18.6621</td>
<td style="text-align: right;">15.8250</td>
<td style="text-align: right;">17.2609</td>
<td style="text-align: right;">12.4495</td>
<td style="text-align: right;">17.5231</td>
<td style="text-align: right;">13.2529</td>
<td style="text-align: right;">13.6515</td>
<td style="text-align: right;">11.0352</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">5.3861</td>
<td style="text-align: right;">5.8845</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav_2-1</td>
<td style="text-align: right;">20.8855</td>
<td style="text-align: right;">16.6372</td>
<td style="text-align: right;">19.1440</td>
<td style="text-align: right;">13.5389</td>
<td style="text-align: right;">20.5990</td>
<td style="text-align: right;">15.6284</td>
<td style="text-align: right;">15.9499</td>
<td style="text-align: right;">13.7203</td>
<td style="text-align: right;">5.3861</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">6.2030</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav_3-1</td>
<td style="text-align: right;">21.5606</td>
<td style="text-align: right;">19.4517</td>
<td style="text-align: right;">21.1586</td>
<td style="text-align: right;">15.3083</td>
<td style="text-align: right;">18.9194</td>
<td style="text-align: right;">15.6699</td>
<td style="text-align: right;">14.4185</td>
<td style="text-align: right;">12.3019</td>
<td style="text-align: right;">5.8845</td>
<td style="text-align: right;">6.2030</td>
<td style="text-align: right;">0.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
</section>
<section id="performance" class="level3" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="performance"><span class="header-section-number">1.5</span> Performance</h3>
<p>The use of <em>extended_selection_table</em> objects can improve performance (in our case, measured as time). Here we use <strong>microbenchmark</strong> to compare the performance of <code>sig2noise()</code> and <strong>ggplot2</strong> to plot the results:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="co"># take first 100 selections</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>mbmrk.snr <span class="ot">&lt;-</span> <span class="fu">microbenchmark</span>(<span class="at">extended =</span> <span class="fu">sig2noise</span>(lng_ext_st[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, ], </span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">mar =</span> <span class="fl">0.05</span>), <span class="at">regular =</span> <span class="fu">sig2noise</span>(lng.selec.table[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, ], </span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">mar =</span> <span class="fl">0.05</span>), <span class="at">times =</span> <span class="dv">50</span>)</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-10"><a href="#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(mbmrk.snr) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"sig2noise"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-3" class="quarto-figure quarto-figure-center anchored" width="750">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="intro_to_warbler_files/figure-html/extn_sel_13-1.png" id="fig-539a35d47e664c97a50115a146a7f1bd-3" class="img-fluid figure-img" width="750">
</div>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>The function runs much faster in the extended selection tables. Performance gain is likely to improve when longer recordings and data sets are used (that is, to compensate for computer overload).</p>
<p>&nbsp;</p>
</section>
<section id="create-selections-by-song" class="level3" data-number="1.6">
<h3 data-number="1.6" class="anchored" data-anchor-id="create-selections-by-song"><span class="header-section-number">1.6</span> Create selections ‘by song’</h3>
<p>The extended selection above were made by element. That is, each sound file within the object contains a single selection (that is, a 1: 1 correspondence between the selections and the ‘wave’ objects). However, extended selection tables can also be created using a higher hierarchical level with the argument <code>by.song</code>. In this case, “song” represents a higher level that contains one or more selections and that the user may want to keep together for a particular analysis (for example, the duration of the intervals). The <code>by.song</code> argument takes the name of the column of characters or factors with the IDs of the different” songs “within a sound file (note that the function assumes that a given song can only be found in only one sound file, so the selections with the same song ID, but from different sound files are taken as different ‘songs’).</p>
<p>To create a selection table by song, let’s add an artificial song column to our example data in which each of the sound files has 2 songs:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add column</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>lbh_selec_table<span class="sc">$</span>song <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>The data looks like this:</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">channel</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
<th style="text-align: right;">song</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.1693549</td>
<td style="text-align: right;">1.3423884</td>
<td style="text-align: right;">2.220105</td>
<td style="text-align: right;">8.604378</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.1584085</td>
<td style="text-align: right;">2.3214565</td>
<td style="text-align: right;">2.169437</td>
<td style="text-align: right;">8.807053</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.3433366</td>
<td style="text-align: right;">0.5182553</td>
<td style="text-align: right;">2.218294</td>
<td style="text-align: right;">8.756604</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1595983</td>
<td style="text-align: right;">0.2921692</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.4570585</td>
<td style="text-align: right;">1.5832087</td>
<td style="text-align: right;">2.284006</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.6265520</td>
<td style="text-align: right;">0.7577715</td>
<td style="text-align: right;">3.006834</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.9742132</td>
<td style="text-align: right;">2.1043921</td>
<td style="text-align: right;">2.776843</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1233643</td>
<td style="text-align: right;">0.2545812</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">9.315153</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.5168116</td>
<td style="text-align: right;">1.6622365</td>
<td style="text-align: right;">2.513997</td>
<td style="text-align: right;">9.216586</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.9326920</td>
<td style="text-align: right;">3.0768784</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">10.235116</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.1453977</td>
<td style="text-align: right;">0.2904966</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">9.742279</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now we can create an extended selection table ‘by song’ using the column name ‘song’ as input for the argument <code>by.song</code>:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>bs_ext_st <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(<span class="at">X =</span> lbh_selec_table, <span class="at">extended =</span> <span class="cn">TRUE</span>,</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">confirm.extended =</span> <span class="cn">FALSE</span>, <span class="at">by.song =</span> <span class="st">"song"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>checking selections (step 1 of 2):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>saving wave objects into extended selection table (step 2 of 2):</code></pre>
</div>
</div>
<p>In this case, we should only have 8 ‘wave’ objects instead of 11 as when the object was created ‘by selection’:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by element</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">attr</span>(ext_st, <span class="st">"wave.objects"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by song</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">attr</span>(bs_ext_st, <span class="st">"wave.objects"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<p>Again, these objects can also be used in any analyzes:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># signal to noise ratio</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>bs_snr <span class="ot">&lt;-</span> <span class="fu">sig2noise</span>(bs_ext_st, <span class="at">mar =</span> <span class="fl">0.05</span>)</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>bs_snr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 24%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 5%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">channel</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
<th style="text-align: right;">song</th>
<th style="text-align: right;">SNR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2730334</td>
<td style="text-align: right;">2.220105</td>
<td style="text-align: right;">8.604378</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21.17229</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long1.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.089054</td>
<td style="text-align: right;">1.2521016</td>
<td style="text-align: right;">2.169437</td>
<td style="text-align: right;">8.807053</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">20.37064</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long1.wav-song_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2749187</td>
<td style="text-align: right;">2.218294</td>
<td style="text-align: right;">8.756604</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">19.18211</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long2.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2325709</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23.27961</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long2.wav-song_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2261502</td>
<td style="text-align: right;">2.284006</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">26.21774</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2312195</td>
<td style="text-align: right;">3.006834</td>
<td style="text-align: right;">8.822316</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">25.34264</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long3.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.447661</td>
<td style="text-align: right;">1.5778402</td>
<td style="text-align: right;">2.776843</td>
<td style="text-align: right;">8.888027</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">25.51089</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long3.wav-song_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2312170</td>
<td style="text-align: right;">2.316862</td>
<td style="text-align: right;">9.315153</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">24.68619</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav-song_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2454249</td>
<td style="text-align: right;">2.513997</td>
<td style="text-align: right;">9.216586</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">27.61899</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phae.long4.wav-song_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.887294</td>
<td style="text-align: right;">3.0314808</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">10.235116</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">28.88520</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Phae.long4.wav-song_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.100000</td>
<td style="text-align: right;">0.2450989</td>
<td style="text-align: right;">2.579708</td>
<td style="text-align: right;">9.742279</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">24.30149</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p>&nbsp;</p>
<ul>
<li>Compare the size of an extended selection table created by element to that of one created by song using the sample data</li>
</ul>
</div>
<p>&nbsp;</p>
</section>
<section id="sharing-acoustic-data" class="level3" data-number="1.7">
<h3 data-number="1.7" class="anchored" data-anchor-id="sharing-acoustic-data"><span class="header-section-number">1.7</span> Sharing acoustic data</h3>
<p>This new object class allows to share complete data sets, including acoustic data. For example, the following code downloads a subset of the data used in <a href="https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/araya-salas_smith-vidaurre___webster_2017._table_s1._recording_metadata.xlsx">Araya-Salas <em>et al</em> (2017)</a> (can also be downloaded from <a href="https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/extended.selection.%20table.araya-salas.et.al.2017.bioacoustics.100.sels.rds">here</a>):</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>URL <span class="ot">&lt;-</span> <span class="st">"https://github.com/maRce10/NMSU_BIR_2024/raw/master/data/extended.selection.table.araya-salas.et.al.2017.bioacoustics.100.sels.rds"</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">gzcon</span>(<span class="fu">url</span>(URL)))</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(dat)</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">object.size</span>(dat), <span class="at">units =</span> <span class="st">"auto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "10.1 Mb"</code></pre>
</div>
</div>
<p>The total size of the 100 sound files from which these selections were taken adds up to 1.1 GB. The size of the extended selection table is only 10.1 MB.</p>
<p>This data is ready to be used:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>sp <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(dat, <span class="at">bp =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>))</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 1%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">duration</th>
<th style="text-align: right;">meanfreq</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">freq.median</th>
<th style="text-align: right;">freq.Q25</th>
<th style="text-align: right;">freq.Q75</th>
<th style="text-align: right;">freq.IQR</th>
<th style="text-align: right;">time.median</th>
<th style="text-align: right;">time.Q25</th>
<th style="text-align: right;">time.Q75</th>
<th style="text-align: right;">time.IQR</th>
<th style="text-align: right;">skew</th>
<th style="text-align: right;">kurt</th>
<th style="text-align: right;">sp.ent</th>
<th style="text-align: right;">time.ent</th>
<th style="text-align: right;">entropy</th>
<th style="text-align: right;">sfm</th>
<th style="text-align: right;">meandom</th>
<th style="text-align: right;">mindom</th>
<th style="text-align: right;">maxdom</th>
<th style="text-align: right;">dfrange</th>
<th style="text-align: right;">modindx</th>
<th style="text-align: right;">startdom</th>
<th style="text-align: right;">enddom</th>
<th style="text-align: right;">dfslope</th>
<th style="text-align: right;">meanpeakf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Pyrrhura rupicola Macaulay Library 132 .wav_2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1504762</td>
<td style="text-align: right;">4.662762</td>
<td style="text-align: right;">1.767083</td>
<td style="text-align: right;">4.279070</td>
<td style="text-align: right;">3.435216</td>
<td style="text-align: right;">5.647841</td>
<td style="text-align: right;">2.212625</td>
<td style="text-align: right;">0.0654244</td>
<td style="text-align: right;">0.0392547</td>
<td style="text-align: right;">0.1046791</td>
<td style="text-align: right;">0.0654244</td>
<td style="text-align: right;">2.619410</td>
<td style="text-align: right;">12.031225</td>
<td style="text-align: right;">0.9236435</td>
<td style="text-align: right;">0.9508231</td>
<td style="text-align: right;">0.8782216</td>
<td style="text-align: right;">0.5423756</td>
<td style="text-align: right;">3.753955</td>
<td style="text-align: right;">2.024121</td>
<td style="text-align: right;">6.847559</td>
<td style="text-align: right;">4.823437</td>
<td style="text-align: right;">5.375000</td>
<td style="text-align: right;">4.521973</td>
<td style="text-align: right;">2.024121</td>
<td style="text-align: right;">-16.599644</td>
<td style="text-align: right;">4.020775</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.CCE.1971.4.4.ITM70863A-23.wav_1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1655637</td>
<td style="text-align: right;">6.254850</td>
<td style="text-align: right;">1.648434</td>
<td style="text-align: right;">6.350453</td>
<td style="text-align: right;">5.601209</td>
<td style="text-align: right;">7.202417</td>
<td style="text-align: right;">1.601209</td>
<td style="text-align: right;">0.0827778</td>
<td style="text-align: right;">0.0382051</td>
<td style="text-align: right;">0.1209829</td>
<td style="text-align: right;">0.0827778</td>
<td style="text-align: right;">2.380005</td>
<td style="text-align: right;">10.144155</td>
<td style="text-align: right;">0.9397550</td>
<td style="text-align: right;">0.9410405</td>
<td style="text-align: right;">0.8843475</td>
<td style="text-align: right;">0.6327902</td>
<td style="text-align: right;">6.585970</td>
<td style="text-align: right;">3.574512</td>
<td style="text-align: right;">8.225684</td>
<td style="text-align: right;">4.651172</td>
<td style="text-align: right;">3.685185</td>
<td style="text-align: right;">8.225684</td>
<td style="text-align: right;">6.933691</td>
<td style="text-align: right;">-7.803594</td>
<td style="text-align: right;">6.096101</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.SAT.1989.6.2.ITM70866A-32.wav_5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1542514</td>
<td style="text-align: right;">6.093311</td>
<td style="text-align: right;">1.645878</td>
<td style="text-align: right;">5.844408</td>
<td style="text-align: right;">4.904376</td>
<td style="text-align: right;">7.393841</td>
<td style="text-align: right;">2.489465</td>
<td style="text-align: right;">0.0835469</td>
<td style="text-align: right;">0.0449868</td>
<td style="text-align: right;">0.1156803</td>
<td style="text-align: right;">0.0706935</td>
<td style="text-align: right;">1.970903</td>
<td style="text-align: right;">7.268969</td>
<td style="text-align: right;">0.9391274</td>
<td style="text-align: right;">0.9432334</td>
<td style="text-align: right;">0.8858163</td>
<td style="text-align: right;">0.6084129</td>
<td style="text-align: right;">6.234293</td>
<td style="text-align: right;">3.316113</td>
<td style="text-align: right;">8.139551</td>
<td style="text-align: right;">4.823437</td>
<td style="text-align: right;">3.214286</td>
<td style="text-align: right;">6.416894</td>
<td style="text-align: right;">3.316113</td>
<td style="text-align: right;">-20.102130</td>
<td style="text-align: right;">7.047292</td>
</tr>
<tr class="even">
<td style="text-align: left;">23.CCE.2011.7.21.7.42.wav_6</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1549551</td>
<td style="text-align: right;">5.415047</td>
<td style="text-align: right;">1.463110</td>
<td style="text-align: right;">5.167742</td>
<td style="text-align: right;">4.419355</td>
<td style="text-align: right;">6.425807</td>
<td style="text-align: right;">2.006452</td>
<td style="text-align: right;">0.0645692</td>
<td style="text-align: right;">0.0387415</td>
<td style="text-align: right;">0.1033107</td>
<td style="text-align: right;">0.0645692</td>
<td style="text-align: right;">2.107408</td>
<td style="text-align: right;">8.054270</td>
<td style="text-align: right;">0.9227024</td>
<td style="text-align: right;">0.9447503</td>
<td style="text-align: right;">0.8717234</td>
<td style="text-align: right;">0.5060075</td>
<td style="text-align: right;">5.028434</td>
<td style="text-align: right;">2.368652</td>
<td style="text-align: right;">7.795020</td>
<td style="text-align: right;">5.426367</td>
<td style="text-align: right;">2.158730</td>
<td style="text-align: right;">7.364356</td>
<td style="text-align: right;">2.368652</td>
<td style="text-align: right;">-32.239682</td>
<td style="text-align: right;">4.366662</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cyanoliseus patagonus Macaulay Library 79 .wav_5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1598866</td>
<td style="text-align: right;">3.153826</td>
<td style="text-align: right;">1.225681</td>
<td style="text-align: right;">2.569195</td>
<td style="text-align: right;">2.243941</td>
<td style="text-align: right;">3.651290</td>
<td style="text-align: right;">1.407350</td>
<td style="text-align: right;">0.0639546</td>
<td style="text-align: right;">0.0383728</td>
<td style="text-align: right;">0.0959320</td>
<td style="text-align: right;">0.0575592</td>
<td style="text-align: right;">4.547286</td>
<td style="text-align: right;">29.491407</td>
<td style="text-align: right;">0.8230714</td>
<td style="text-align: right;">0.9356593</td>
<td style="text-align: right;">0.7701144</td>
<td style="text-align: right;">0.1265239</td>
<td style="text-align: right;">2.590610</td>
<td style="text-align: right;">2.024121</td>
<td style="text-align: right;">4.435840</td>
<td style="text-align: right;">2.411719</td>
<td style="text-align: right;">3.071429</td>
<td style="text-align: right;">2.454785</td>
<td style="text-align: right;">2.282519</td>
<td style="text-align: right;">-1.077424</td>
<td style="text-align: right;">2.291336</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.HC1.2011.8.7.9.20.wav_4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1537989</td>
<td style="text-align: right;">6.029456</td>
<td style="text-align: right;">1.757841</td>
<td style="text-align: right;">6.416260</td>
<td style="text-align: right;">4.920325</td>
<td style="text-align: right;">7.183740</td>
<td style="text-align: right;">2.263415</td>
<td style="text-align: right;">0.0769048</td>
<td style="text-align: right;">0.0448611</td>
<td style="text-align: right;">0.1089484</td>
<td style="text-align: right;">0.0640873</td>
<td style="text-align: right;">4.161163</td>
<td style="text-align: right;">27.901632</td>
<td style="text-align: right;">0.9288549</td>
<td style="text-align: right;">0.9459573</td>
<td style="text-align: right;">0.8786571</td>
<td style="text-align: right;">0.6043575</td>
<td style="text-align: right;">6.254965</td>
<td style="text-align: right;">4.952637</td>
<td style="text-align: right;">8.570215</td>
<td style="text-align: right;">3.617578</td>
<td style="text-align: right;">4.071429</td>
<td style="text-align: right;">5.383301</td>
<td style="text-align: right;">4.952637</td>
<td style="text-align: right;">-2.800177</td>
<td style="text-align: right;">4.971966</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>… and the spectrograms can be visualized as follows:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>){</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>  wv <span class="ot">&lt;-</span> <span class="fu">read_wave</span>(<span class="at">X =</span> dat, <span class="at">index =</span> i, <span class="at">from =</span> <span class="fl">0.17</span>, <span class="at">to =</span> <span class="fl">0.4</span>)</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spectro</span>(wv, <span class="at">wl =</span> <span class="dv">250</span>, <span class="at">grid =</span> <span class="cn">FALSE</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>, <span class="at">axisX =</span> <span class="cn">FALSE</span>,</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">axisY =</span> <span class="cn">FALSE</span>, <span class="at">ovlp =</span> <span class="dv">90</span>, <span class="at">flim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">12</span>), </span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> reverse.gray.colors<span class="fl">.1</span>)</span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-4" class="quarto-figure quarto-figure-center anchored" width="750">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="intro_to_warbler_files/figure-html/extn.sel_21-1.png" id="fig-539a35d47e664c97a50115a146a7f1bd-4" class="img-fluid figure-img" width="750">
</div>
</figure>
</div>
</div>
</div>
<p>The <strong>NatureSounds</strong> package contains an extended selection table with long-billed hermit hummingbirds vocalizations from 10 different song types:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"Phae.long.est"</span>)</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>Phae.long.est</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 13%">
<col style="width: 16%">
<col style="width: 12%">
<col style="width: 5%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">sound.files</th>
<th style="text-align: right;">selec</th>
<th style="text-align: right;">start</th>
<th style="text-align: right;">end</th>
<th style="text-align: right;">bottom.freq</th>
<th style="text-align: right;">top.freq</th>
<th style="text-align: left;">lek</th>
<th style="text-align: left;">lek.song.type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">BR2-A1-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2676122</td>
<td style="text-align: right;">1.601978</td>
<td style="text-align: right;">10.95248</td>
<td style="text-align: left;">BR2</td>
<td style="text-align: left;">BR2-A1</td>
</tr>
<tr class="even">
<td style="text-align: left;">BR2-A1-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2652138</td>
<td style="text-align: right;">1.891390</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">BR2</td>
<td style="text-align: left;">BR2-A1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BR2-A1-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2716211</td>
<td style="text-align: right;">1.717743</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">BR2</td>
<td style="text-align: left;">BR2-A1</td>
</tr>
<tr class="even">
<td style="text-align: left;">BR2-A1-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2700891</td>
<td style="text-align: right;">1.833508</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">BR2</td>
<td style="text-align: left;">BR2-A1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BR2-A1-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2769735</td>
<td style="text-align: right;">2.122920</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">BR2</td>
<td style="text-align: left;">BR2-A1</td>
</tr>
<tr class="even">
<td style="text-align: left;">CCE-I3-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2489883</td>
<td style="text-align: right;">1.755128</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">CCE</td>
<td style="text-align: left;">CCE-I3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CCE-I3-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2542084</td>
<td style="text-align: right;">1.621870</td>
<td style="text-align: right;">10.97237</td>
<td style="text-align: left;">CCE</td>
<td style="text-align: left;">CCE-I3</td>
</tr>
<tr class="even">
<td style="text-align: left;">CCE-I3-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2511759</td>
<td style="text-align: right;">1.710708</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">CCE</td>
<td style="text-align: left;">CCE-I3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CCE-I3-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2112061</td>
<td style="text-align: right;">1.932805</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">CCE</td>
<td style="text-align: left;">CCE-I3</td>
</tr>
<tr class="even">
<td style="text-align: left;">CCE-I3-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2551176</td>
<td style="text-align: right;">1.533031</td>
<td style="text-align: right;">10.88353</td>
<td style="text-align: left;">CCE</td>
<td style="text-align: left;">CCE-I3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LOC-D1-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2349864</td>
<td style="text-align: right;">1.204700</td>
<td style="text-align: right;">10.55520</td>
<td style="text-align: left;">LOC</td>
<td style="text-align: left;">LOC-D1</td>
</tr>
<tr class="even">
<td style="text-align: left;">LOC-D1-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2284810</td>
<td style="text-align: right;">1.387300</td>
<td style="text-align: right;">10.73780</td>
<td style="text-align: left;">LOC</td>
<td style="text-align: left;">LOC-D1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LOC-D1-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2276679</td>
<td style="text-align: right;">1.387300</td>
<td style="text-align: right;">10.73780</td>
<td style="text-align: left;">LOC</td>
<td style="text-align: left;">LOC-D1</td>
</tr>
<tr class="even">
<td style="text-align: left;">LOC-D1-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2252284</td>
<td style="text-align: right;">1.533300</td>
<td style="text-align: right;">10.88380</td>
<td style="text-align: left;">LOC</td>
<td style="text-align: left;">LOC-D1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LOC-D1-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2398654</td>
<td style="text-align: right;">2.336400</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">LOC</td>
<td style="text-align: left;">LOC-D1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SAT-F1-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2327233</td>
<td style="text-align: right;">1.577451</td>
<td style="text-align: right;">10.92795</td>
<td style="text-align: left;">SAT</td>
<td style="text-align: left;">SAT-F1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SAT-F1-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2368484</td>
<td style="text-align: right;">1.755128</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SAT</td>
<td style="text-align: left;">SAT-F1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SAT-F1-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2320470</td>
<td style="text-align: right;">1.804718</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SAT</td>
<td style="text-align: left;">SAT-F1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SAT-F1-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2328000</td>
<td style="text-align: right;">1.767014</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SAT</td>
<td style="text-align: left;">SAT-F1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SAT-F1-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2330560</td>
<td style="text-align: right;">1.842421</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SAT</td>
<td style="text-align: left;">SAT-F1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STR-A2-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2229370</td>
<td style="text-align: right;">1.729311</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">STR</td>
<td style="text-align: left;">STR-A2</td>
</tr>
<tr class="even">
<td style="text-align: left;">STR-A2-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2252280</td>
<td style="text-align: right;">1.653903</td>
<td style="text-align: right;">11.00440</td>
<td style="text-align: left;">STR</td>
<td style="text-align: left;">STR-A2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STR-A2-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2236880</td>
<td style="text-align: right;">1.767014</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">STR</td>
<td style="text-align: left;">STR-A2</td>
</tr>
<tr class="even">
<td style="text-align: left;">STR-A2-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2208320</td>
<td style="text-align: right;">1.767014</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">STR</td>
<td style="text-align: left;">STR-A2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STR-A2-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2280000</td>
<td style="text-align: right;">1.616200</td>
<td style="text-align: right;">10.96670</td>
<td style="text-align: left;">STR</td>
<td style="text-align: left;">STR-A2</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUR-E1-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2398189</td>
<td style="text-align: right;">2.066063</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-E1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUR-E1-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2385804</td>
<td style="text-align: right;">2.110482</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-E1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUR-E1-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2383356</td>
<td style="text-align: right;">2.110482</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-E1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUR-E1-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2408430</td>
<td style="text-align: right;">2.066063</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-E1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUR-E1-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2358013</td>
<td style="text-align: right;">1.932805</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-E1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUR-K4-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2357996</td>
<td style="text-align: right;">1.934900</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-K4</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUR-K4-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2317337</td>
<td style="text-align: right;">2.044400</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-K4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUR-K4-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2276679</td>
<td style="text-align: right;">2.080900</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-K4</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUR-K4-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2284810</td>
<td style="text-align: right;">2.007900</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-K4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUR-K4-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2382391</td>
<td style="text-align: right;">2.044400</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">SUR</td>
<td style="text-align: left;">SUR-K4</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C2-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1926348</td>
<td style="text-align: right;">2.865609</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-C2-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1921808</td>
<td style="text-align: right;">2.821190</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C2</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C2-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1920448</td>
<td style="text-align: right;">2.865609</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-C2-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1888685</td>
<td style="text-align: right;">2.865609</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C2</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C2-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1954845</td>
<td style="text-align: right;">2.732222</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-D4-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2492842</td>
<td style="text-align: right;">2.243646</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-D4</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-D4-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2485186</td>
<td style="text-align: right;">2.065983</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-D4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-D4-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2402925</td>
<td style="text-align: right;">2.021643</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-D4</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-D4-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2397693</td>
<td style="text-align: right;">2.110482</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-D4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-D4-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2417536</td>
<td style="text-align: right;">2.110482</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-D4</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C5-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1986836</td>
<td style="text-align: right;">2.199320</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-C5-2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1991138</td>
<td style="text-align: right;">2.154901</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C5</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C5-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2009404</td>
<td style="text-align: right;">2.332578</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR1-C5-4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1974734</td>
<td style="text-align: right;">2.332578</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C5</td>
</tr>
<tr class="even">
<td style="text-align: left;">TR1-C5-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.2004244</td>
<td style="text-align: right;">1.799487</td>
<td style="text-align: right;">11.02500</td>
<td style="text-align: left;">TR1</td>
<td style="text-align: left;">TR1-C5</td>
</tr>
</tbody>
</table>
</div>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Phae.long.est<span class="sc">$</span>lek.song.type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
BR2-A1 CCE-I3 LOC-D1 SAT-F1 STR-A2 SUR-E1 SUR-K4 TR1-C2 TR1-C5 TR1-D4 
     5      5      5      5      5      5      5      5      5      5 </code></pre>
</div>
</div>
<p>The ability to compress large data sets and the ease of performing analyzes that require a single R object can simplify the exchange of data and the reproducibility of bioacoustic analyzes.</p>
<p>&nbsp;</p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p>&nbsp;</p>
<ul>
<li>Download the extended selection tables of bat social calls from the <a href="https://figshare.com/articles/dataset/Supplementary_materials_Ontogeny_of_an_interactive_call-and-response_system_in_Spix_s_disc-winged_bats_PART_1/11651772">this figshare repository</a> (scroll till the end of the file list) and create spectrograms for the first 5 selections of each table (either <code>spectrograms()</code> or <code>spectro()</code> would work)</li>
</ul>
</div>
<p>&nbsp;</p>
</section>
</section>
<section id="warbler-functions-and-the-workflow-of-analysis-in-bioacoustics" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="warbler-functions-and-the-workflow-of-analysis-in-bioacoustics"><span class="header-section-number">2</span> <strong>warbleR</strong> functions and the workflow of analysis in bioacoustics</h2>
<p>Bioacoustic analyzes generally follow a specific processing sequence and analysis. This sequence can be represented schematically like this:</p>
<p><img src="images/analysis-workflow.png" alt="analysis workflow"></p>
<p>&nbsp;</p>
<p>We can group <strong>warbleR</strong> functions according to the bioacoustic analysis stages.</p>
<p>&nbsp;</p>
<section id="get-and-prepare-recordings" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="get-and-prepare-recordings"><span class="header-section-number">2.1</span> Get and prepare recordings</h3>
<p>The <code>query_xc()</code> function allows you to search and download sounds from the free access database <a href="http://xeno-canto.org/">Xeno-Canto</a>. You can also convert .mp3 files to .wav, change the sampling rate of the files and correct corrupt files, among other functions.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/check_wavs.html" style="     ">check_wavs</a></td>
<td style="text-align: center; font-style: italic;">verify if sound files can be read</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/consolidate.html" style="     ">consolidate</a></td>
<td style="text-align: center; font-style: italic;">consolidate sound files in a single folder</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame and wave files</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/fix_wavs.html" style="     ">fix_wavs</a></td>
<td style="text-align: center; font-style: italic;">fix waves that cannot be read in R</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">wave files</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/mp32wav.html" style="     ">mp32wav</a></td>
<td style="text-align: center; font-style: italic;">convert multiple mp3 files to wav format</td>
<td style="text-align: center; font-style: italic;">multiple mp3 files</td>
<td style="text-align: center; font-style: italic;">wave files</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/query_xc.html" style="     ">query_xc</a></td>
<td style="text-align: center; font-style: italic;">Search and download mp3 files from Xeno-Canto</td>
<td style="text-align: center; font-style: italic;">Scientific names/data frame</td>
<td style="text-align: center; font-style: italic;">mp3 files</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/resample_est.html" style="     ">resample_est</a></td>
<td style="text-align: center; font-style: italic;">resample wave objects in ext. selection tables</td>
<td style="text-align: center; font-style: italic;">extended selection tables</td>
<td style="text-align: center; font-style: italic;">extended selection tables</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/remove_channels.html" style="     ">remove_channels</a></td>
<td style="text-align: center; font-style: italic;">remove channels in multiple wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">wave files</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/remove_silence.html" style="     ">remove_silence</a></td>
<td style="text-align: center; font-style: italic;">remove silences in multiple wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">wave files</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/duration_wavs.html" style="     ">duration_wavs</a></td>
<td style="text-align: center; font-style: italic;">measures duration in multiple wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/info_wavs.html" style="     ">info_wavs</a></td>
<td style="text-align: center; font-style: italic;">extract recording parameters from multiple wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
</section>
<section id="annotating-sound" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="annotating-sound"><span class="header-section-number">2.2</span> Annotating sound</h3>
<p>It is recommended to make annotations in other programs and then import them into R (for example in Raven and import them with the <strong>Rraven</strong> package). However, <strong>warbleR</strong> offers some functions to facilitate manual or automatic annotation of sound files, as well as the subsequent manipulation:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/auto_detec.html" style="     ">auto_detec</a></td>
<td style="text-align: center; font-style: italic;">automatic annotation of wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame, images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/optimize_auto_detec.html" style="     ">optimize_auto_detec</a></td>
<td style="text-align: center; font-style: italic;">Try different detection settings to optimize auto_detec detections</td>
<td style="text-align: center; font-style: italic;">auto_detec output</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_range.html" style="     ">freq_range</a></td>
<td style="text-align: center; font-style: italic;">detect frequency range in selection tables</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/tailor_sels.html" style="     ">tailor_sels</a></td>
<td style="text-align: center; font-style: italic;">interactive tailoring of selections</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
</section>
<section id="organize-annotations" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="organize-annotations"><span class="header-section-number">2.3</span> Organize annotations</h3>
<p>The annotations (or selection tables) can be manipulated and refined with a variety of functions. Selection tables can also be converted into the compact format <em>extended selection tables</em>:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/auto_detec.html" style="     ">auto_detec</a></td>
<td style="text-align: center; font-style: italic;">automatic annotation of wave files</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame, images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/optimize_auto_detec.html" style="     ">optimize_auto_detec</a></td>
<td style="text-align: center; font-style: italic;">Try different detection settings to optimize auto_detec detections</td>
<td style="text-align: center; font-style: italic;">auto_detec output</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_range.html" style="     ">freq_range</a></td>
<td style="text-align: center; font-style: italic;">detect frequency range in selection tables</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/tailor_sels.html" style="     ">tailor_sels</a></td>
<td style="text-align: center; font-style: italic;">interactive tailoring of selections</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
</section>
<section id="measure-acoustic-signal-structure" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="measure-acoustic-signal-structure"><span class="header-section-number">2.4</span> Measure acoustic signal structure</h3>
<p>Most <strong>warbleR</strong> functions are dedicated to quantifying the structure of acoustic signals listed in selection tables using batch processing. For this, 4 main measurement methods are offered:</p>
<ol type="1">
<li>Spectrographic parameters</li>
<li>Cross correlation</li>
<li>Dynamic time warping (DTW)</li>
<li>Statistical descriptors of cepstral coefficients</li>
</ol>
<p>Most functions gravitate around these methods, or variations of these methods:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_range.html" style="     ">freq_range</a></td>
<td style="text-align: center; font-style: italic;">detect frequency range in selection tables</td>
<td style="text-align: center; font-style: italic;">multiple wave files</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/song_analysis.html" style="     ">song_analysis</a></td>
<td style="text-align: center; font-style: italic;">measures acoustic parameters at higher structural levels of organization</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">data frame, selection tables</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/compare_methods.html" style="     ">compare_methods</a></td>
<td style="text-align: center; font-style: italic;">compare the performance of methods to measure acoustic structure</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_DTW.html" style="     ">freq_DTW</a></td>
<td style="text-align: center; font-style: italic;">measures dynamic time warping (DTW) on dominant/fundamental frequency contours</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">(di)similarity matrix, images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_ts.html" style="     ">freq_ts</a></td>
<td style="text-align: center; font-style: italic;">mesaures dominant/fundamental frequency contours</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">data frame with frequency contours</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/inflections.html" style="     ">inflections</a></td>
<td style="text-align: center; font-style: italic;">measures number of inflections in frequency contours</td>
<td style="text-align: center; font-style: italic;">data frame with frequency contours</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/mfcc_stats.html" style="     ">mfcc_stats</a></td>
<td style="text-align: center; font-style: italic;">measures statistical descriptors of Mel cepstral coefficients</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/multi_DTW.html" style="     ">multi_DTW</a></td>
<td style="text-align: center; font-style: italic;">measures dynamic time warping (DTW) on multiple contours</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">(di)similarity matrix</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/sig2noise.html" style="     ">sig2noise</a></td>
<td style="text-align: center; font-style: italic;">measures signal-to-noise ratio</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/spectro_analysis.html" style="     ">spectro_analysis</a></td>
<td style="text-align: center; font-style: italic;">measures spectrographic parameters</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/cross_correlation.html" style="     ">cross_correlation</a></td>
<td style="text-align: center; font-style: italic;">measurec spectrographic cross-correlation</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">(di)similarity matrix</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p>&nbsp;</p>
<ul>
<li>Compare the performance of <code>spectro_analysis()</code> on the example ‘lbh_selec_table’ with “the argument ‘fast = TRUE’ vs ‘fast = FALSE’. What does this argument do and which <code>seewave</code> function might be involved?</li>
</ul>
</div>
<p>&nbsp;</p>
</section>
<section id="verify-annotations" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="verify-annotations"><span class="header-section-number">2.5</span> Verify annotations</h3>
<p>Functions are provided to detect inconsistencies in the selection tables or modify selection tables. The package also offers several functions to generate spectrograms showing the annotations, which can be organized by annotation categories. This allows you to verify if the annotations match the previously defined categories, which is particularly useful if the annotations were automatically generated.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/check_sels.html" style="     ">check_sels</a></td>
<td style="text-align: center; font-style: italic;">double-check selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/overlapping_sels.html" style="     ">overlapping_sels</a></td>
<td style="text-align: center; font-style: italic;">finds (time) overlapping selections</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/catalog.html" style="     ">catalog</a></td>
<td style="text-align: center; font-style: italic;">creates spectrogram catalog</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/catalog2pdf.html" style="     ">catalog2pdf</a></td>
<td style="text-align: center; font-style: italic;">convert catalogs to .pdf</td>
<td style="text-align: center; font-style: italic;">images</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/spectrograms.html" style="     ">spectrograms</a></td>
<td style="text-align: center; font-style: italic;">create spectrogram images</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/full_spectrograms.html" style="     ">full_spectrograms</a></td>
<td style="text-align: center; font-style: italic;">create spectrograms of whole sound files</td>
<td style="text-align: center; font-style: italic;">multiple wave files, selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/full_spectrogram2pdf.html" style="     ">full_spectrogram2pdf</a></td>
<td style="text-align: center; font-style: italic;">convert full spectrograms to .pfg</td>
<td style="text-align: center; font-style: italic;">images</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
</section>
<section id="visually-inspection-of-annotations-and-measurements" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="visually-inspection-of-annotations-and-measurements"><span class="header-section-number">2.6</span> Visually inspection of annotations and measurements</h3>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/snr_spectrograms.html" style="     ">snr_spectrograms</a></td>
<td style="text-align: center; font-style: italic;">plots spectrograms highlighting areas where signal-to-noise ratio is measured</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/spectrograms.html" style="     ">spectrograms</a></td>
<td style="text-align: center; font-style: italic;">create spectrogram images</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/track_freqs.html" style="     ">track_freqs</a></td>
<td style="text-align: center; font-style: italic;">create spectrogram images including frequency contours</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/plot_coordination.html" style="     ">plot_coordination</a></td>
<td style="text-align: center; font-style: italic;">create schematic plots of coordinated signals</td>
<td style="text-align: center; font-style: italic;">data frame</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/full_spectrograms.html" style="     ">full_spectrograms</a></td>
<td style="text-align: center; font-style: italic;">create spectrograms of whole sound files</td>
<td style="text-align: center; font-style: italic;">multiple wave files, selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
</section>
<section id="additional-functions" class="level3" data-number="2.7">
<h3 data-number="2.7" class="anchored" data-anchor-id="additional-functions"><span class="header-section-number">2.7</span> Additional functions</h3>
<p>Finally, <strong>warbleR</strong> offers functions to simplify the use of extended selection tables, organize large numbers of images with spectrograms and generate elaborated signal visualizations:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Works.on</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/is_extended_selection_table.html" style="     ">is_extended_selection_table</a></td>
<td style="text-align: center; font-style: italic;">check if object is extended selection tables</td>
<td style="text-align: center; font-style: italic;">data frame</td>
<td style="text-align: center; font-style: italic;">TRUE/FALSE</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/is_selection_table.html" style="     ">is_selection_table</a></td>
<td style="text-align: center; font-style: italic;">check if object is selection tables</td>
<td style="text-align: center; font-style: italic;">data frame</td>
<td style="text-align: center; font-style: italic;">TRUE/FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/catalog2pdf.html" style="     ">catalog2pdf</a></td>
<td style="text-align: center; font-style: italic;">convert catalogs to .pdf</td>
<td style="text-align: center; font-style: italic;">images</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/move_imgs.html" style="     ">move_imgs</a></td>
<td style="text-align: center; font-style: italic;">moves images among folders</td>
<td style="text-align: center; font-style: italic;">images</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/harmonic_track.html" style="     ">harmonic_track</a></td>
<td style="text-align: center; font-style: italic;">measures harmonics with highest energy</td>
<td style="text-align: center; font-style: italic;">wave object</td>
<td style="text-align: center; font-style: italic;">data frame with frequency contours</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/map_xc.html" style="     ">map_xc</a></td>
<td style="text-align: center; font-style: italic;">created maps from Xeno-Canto recordings</td>
<td style="text-align: center; font-style: italic;">data frame</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/test_coordination.html" style="     ">test_coordination</a></td>
<td style="text-align: center; font-style: italic;">test statistical significance of vocal coordination</td>
<td style="text-align: center; font-style: italic;">data frame</td>
<td style="text-align: center; font-style: italic;">data frame</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/full_spectrogram2pdf.html" style="     ">full_spectrogram2pdf</a></td>
<td style="text-align: center; font-style: italic;">convert full spectrograms to .pfg</td>
<td style="text-align: center; font-style: italic;">images</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/color_spectro.html" style="     ">color_spectro</a></td>
<td style="text-align: center; font-style: italic;">highlight signals with colors in a spectrogram</td>
<td style="text-align: center; font-style: italic;">wave object</td>
<td style="text-align: center; font-style: italic;">plot in R</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/freq_range_detec.html" style="     ">freq_range_detec</a></td>
<td style="text-align: center; font-style: italic;">detect frequency range in wave objetcs</td>
<td style="text-align: center; font-style: italic;">wave object</td>
<td style="text-align: center; font-style: italic;">data frame, plot in R</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/open_wd.html" style="     ">open_wd</a></td>
<td style="text-align: center; font-style: italic;">open working directory</td>
<td style="text-align: center; font-style: italic;"></td>
<td style="text-align: center; font-style: italic;"></td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/phylo_spectro.html" style="     ">phylo_spectro</a></td>
<td style="text-align: center; font-style: italic;">plots phylogenetic trees with spectrograms</td>
<td style="text-align: center; font-style: italic;">selection tables</td>
<td style="text-align: center; font-style: italic;">plot in R</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/read_wave.html" style="     ">read_wave</a></td>
<td style="text-align: center; font-style: italic;">read wave files and wave objects</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">wave object</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/sim_songs.html" style="     ">sim_songs</a></td>
<td style="text-align: center; font-style: italic;">simulate songs</td>
<td style="text-align: center; font-style: italic;"></td>
<td style="text-align: center; font-style: italic;">wave object, wave file and selection table</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/tweak_spectro.html" style="     ">tweak_spectro</a></td>
<td style="text-align: center; font-style: italic;">creates mosaic plots with spectrograms with different display parameters</td>
<td style="text-align: center; font-style: italic;">selection tables, ext. selection tables</td>
<td style="text-align: center; font-style: italic;">images</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;"><a href="https://marce10.github.io/warbleR/reference/warbleR_options.html" style="     ">warbleR_options</a></td>
<td style="text-align: center; font-style: italic;">define global parameters for warbleR functions</td>
<td style="text-align: center; font-style: italic;"></td>
<td style="text-align: center; font-style: italic;"></td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p>&nbsp;</p>
<ul>
<li><p>Run the examples of the functions <code>phylo_spectro()</code> and <code>color_spectro()</code></p></li>
<li><p>Use the <code>query_xc()</code> and <code>map_xc()</code> functions to explore the geographical distribution of the Xeno-Canto recordings of a species (of bird) of your interest (if any!)</p></li>
</ul>
</div>
<p>&nbsp;</p>
<hr>
</section>
</section>
<section id="references" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="references"><span class="header-section-number">3</span> References</h2>
<ol type="1">
<li>Araya-Salas M, G Smith-Vidaurre &amp; M Webster. (2017). Assessing the effect of sound file compression and background noise on measures of acoustic signal structure. Bioacoustics 4622, 1–17</li>
<li>Araya-Salas M, Smith-Vidaurre G (2017) warbleR: An R package to streamline analysis of animal acoustic signals. Methods Ecol Evol 8:184–191.</li>
</ol>
<p>&nbsp;</p>
<hr>
<p><font size="4">Session information</font></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 20.04.2 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0

locale:
 [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=pt_BR.UTF-8    
 [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=pt_BR.UTF-8   
 [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Costa_Rica
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] ggplot2_3.4.4         microbenchmark_1.4.10 warbleR_1.1.30       
[4] NatureSounds_1.0.4    knitr_1.45            seewave_2.2.3        
[7] tuneR_1.4.6          

loaded via a namespace (and not attached):
 [1] utf8_1.2.4        generics_0.1.3    xml2_1.3.6        shinyBS_0.61.1   
 [5] bitops_1.0-7      stringi_1.8.3     digest_0.6.34     magrittr_2.0.3   
 [9] evaluate_0.23     grid_4.3.1        soundgen_2.6.2    iterators_1.0.14 
[13] fastmap_1.1.1     foreach_1.5.2     jsonlite_1.8.8    brio_1.1.4       
[17] fansi_1.0.6       viridisLite_0.4.2 scales_1.3.0      pbapply_1.7-2    
[21] codetools_0.2-19  cli_3.6.2         rlang_1.1.3       fftw_1.0-8       
[25] munsell_0.5.0     withr_3.0.0       yaml_2.3.8        tools_4.3.1      
[29] parallel_4.3.1    dplyr_1.1.4       colorspace_2.1-0  kableExtra_1.4.0 
[33] vctrs_0.6.5       R6_2.5.1          proxy_0.4-27      lifecycle_1.0.4  
[37] dtw_1.23-1        stringr_1.5.1     htmlwidgets_1.6.4 MASS_7.3-60.0.1  
[41] pkgconfig_2.0.3   pillar_1.9.0      gtable_0.3.4      glue_1.7.0       
[45] Rcpp_1.0.12       systemfonts_1.0.5 xfun_0.41         tibble_3.2.1     
[49] tidyselect_1.2.0  rstudioapi_0.15.0 farver_2.1.1      rjson_0.2.21     
[53] htmltools_0.5.7   svglite_2.1.3     rmarkdown_2.25    testthat_3.2.1   
[57] signal_1.8-0      compiler_4.3.1    RCurl_1.98-1.14  </code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/marce10\.github\.io\/NMSU_BIR_2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb144" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &lt;font size="7"&gt;&lt;b&gt;Introduction to warbleR&lt;/b&gt;&lt;/font&gt;</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="an">toc-depth:</span><span class="co"> 2</span></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> pygments</span></span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: kable</span></span>
<span id="cb144-11"><a href="#cb144-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: show</span></span>
<span id="cb144-12"><a href="#cb144-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb144-13"><a href="#cb144-13" aria-hidden="true" tabindex="-1"></a><span class="co">    css: styles.css</span></span>
<span id="cb144-14"><a href="#cb144-14" aria-hidden="true" tabindex="-1"></a><span class="co">    link-external-icon: true</span></span>
<span id="cb144-15"><a href="#cb144-15" aria-hidden="true" tabindex="-1"></a><span class="co">    link-external-newwindow: true  </span></span>
<span id="cb144-16"><a href="#cb144-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb144-17"><a href="#cb144-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-18"><a href="#cb144-18" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-19"><a href="#cb144-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-20"><a href="#cb144-20" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-21"><a href="#cb144-21" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Objetive** {.unnumbered .unlisted}</span></span>
<span id="cb144-22"><a href="#cb144-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-23"><a href="#cb144-23" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Provide and overview of the must relevant tools in the package warbleR</span>
<span id="cb144-24"><a href="#cb144-24" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-25"><a href="#cb144-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-26"><a href="#cb144-26" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-27"><a href="#cb144-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-28"><a href="#cb144-28" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">warbleR</span><span class="co">](https://cran.r-project.org/package=warbleR)</span> package is intended to facilitate the analysis of the structure of animal acoustic signals in R. Users can enter their own data into a workflow that facilitates spectrographic visualization and measurement of acoustic parameters **warbleR** makes use of the fundamental sound analysis tools of the **seewave** package, and offers new tools for acoustic structure analysis. These tools are available for batch analysis of acoustic signals.</span>
<span id="cb144-29"><a href="#cb144-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-30"><a href="#cb144-30" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-31"><a href="#cb144-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-32"><a href="#cb144-32" aria-hidden="true" tabindex="-1"></a>&lt;font size = "4"&gt;The main features of the package are:&lt;/font&gt;</span>
<span id="cb144-33"><a href="#cb144-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-34"><a href="#cb144-34" aria-hidden="true" tabindex="-1"></a>&lt;font size = "3"&gt;</span>
<span id="cb144-35"><a href="#cb144-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-36"><a href="#cb144-36" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The use of loops to apply tasks through acoustic signals referenced in a selection table:</span>
<span id="cb144-37"><a href="#cb144-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-38"><a href="#cb144-38" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-39"><a href="#cb144-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-40"><a href="#cb144-40" aria-hidden="true" tabindex="-1"></a>&lt;img src="images/loop_warbleR_optim.gif" alt="warbleR measuring loop" width="500"/&gt;</span>
<span id="cb144-41"><a href="#cb144-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-42"><a href="#cb144-42" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-43"><a href="#cb144-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-44"><a href="#cb144-44" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The production of images files with spectrograms that let users organize data and verify acoustic analyzes: &lt;/font&gt;</span>
<span id="cb144-45"><a href="#cb144-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-46"><a href="#cb144-46" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-47"><a href="#cb144-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-48"><a href="#cb144-48" aria-hidden="true" tabindex="-1"></a>&lt;img src="images/loop_warbleR_images_optim.gif" alt="warbleR image loop" width="500"/&gt;</span>
<span id="cb144-49"><a href="#cb144-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-50"><a href="#cb144-50" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-51"><a href="#cb144-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-52"><a href="#cb144-52" aria-hidden="true" tabindex="-1"></a>The package offers functions for:</span>
<span id="cb144-53"><a href="#cb144-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-54"><a href="#cb144-54" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Browse and download recordings of <span class="co">[</span><span class="ot">Xeno ‐ Canto</span><span class="co">](http://xeno-canto.org/)</span></span>
<span id="cb144-55"><a href="#cb144-55" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Explore, organize and manipulate multiple sound files</span>
<span id="cb144-56"><a href="#cb144-56" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Detect signals automatically (in frequency and time)</span>
<span id="cb144-57"><a href="#cb144-57" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Create spectrograms of complete recordings or individual signals</span>
<span id="cb144-58"><a href="#cb144-58" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Run different measures of acoustic signal structure</span>
<span id="cb144-59"><a href="#cb144-59" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Evaluate the performance of measurement methods</span>
<span id="cb144-60"><a href="#cb144-60" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Catalog signals</span>
<span id="cb144-61"><a href="#cb144-61" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Characterize different structural levels in acoustic signals</span>
<span id="cb144-62"><a href="#cb144-62" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Statistical analysis of duet coordination</span>
<span id="cb144-63"><a href="#cb144-63" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Consolidate databases and annotation tables</span>
<span id="cb144-64"><a href="#cb144-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-65"><a href="#cb144-65" aria-hidden="true" tabindex="-1"></a>Most functions allow the parallelization of tasks, which distributes the tasks among several cores to improve computational efficiency. Tools to evaluate the performance of the analysis at each step are also available. All these tools are provided in a standardized workflow for the analysis of the signal structure, making them accessible to a wide range of users, including those without much knowledge of R.</span>
<span id="cb144-66"><a href="#cb144-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-67"><a href="#cb144-67" aria-hidden="true" tabindex="-1"></a>**warbleR** is a young package (officially published in 2017) currently in a maturation stage:</span>
<span id="cb144-68"><a href="#cb144-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-69"><a href="#cb144-69" aria-hidden="true" tabindex="-1"></a>&lt;img src="images/lifecycle.jpeg" alt="life cycle" width="700"/&gt;</span>
<span id="cb144-70"><a href="#cb144-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-71"><a href="#cb144-71" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-72"><a href="#cb144-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-73"><a href="#cb144-73" aria-hidden="true" tabindex="-1"></a><span class="fu">## Selection tables</span></span>
<span id="cb144-74"><a href="#cb144-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-75"><a href="#cb144-75" aria-hidden="true" tabindex="-1"></a>These objects are created with the <span class="in">`selection_table()`</span> function. The function takes data frames containing selection data (name of the sound file, selection, start, end ...), verifies if the information is consistent (see the function <span class="in">`check_sels()`</span> for details) and saves the 'diagnostic' metadata as an attribute. The selection tables are basically data frames in which the information contained has been corroborated so it can be read by other **warbleR** functions. The selection tables must contain (at least) the following columns:</span>
<span id="cb144-76"><a href="#cb144-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-77"><a href="#cb144-77" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>sound files (sound.files)</span>
<span id="cb144-78"><a href="#cb144-78" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>selection (select)</span>
<span id="cb144-79"><a href="#cb144-79" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>start</span>
<span id="cb144-80"><a href="#cb144-80" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>end</span>
<span id="cb144-81"><a href="#cb144-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-82"><a href="#cb144-82" aria-hidden="true" tabindex="-1"></a>The sample data "lbh_selec_table" contains these columns:</span>
<span id="cb144-83"><a href="#cb144-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-84"><a href="#cb144-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_2, echo = FALSE, message = FALSE}</span></span>
<span id="cb144-85"><a href="#cb144-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-86"><a href="#cb144-86" aria-hidden="true" tabindex="-1"></a><span class="in">rm(list = ls())</span></span>
<span id="cb144-87"><a href="#cb144-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-88"><a href="#cb144-88" aria-hidden="true" tabindex="-1"></a><span class="in"># unload all non-based packages</span></span>
<span id="cb144-89"><a href="#cb144-89" aria-hidden="true" tabindex="-1"></a><span class="in">out &lt;- sapply(paste('package:', names(sessionInfo()$otherPkgs), sep = ""), function(x) try(detach(x, unload = FALSE, character.only = TRUE), silent = T))</span></span>
<span id="cb144-90"><a href="#cb144-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-91"><a href="#cb144-91" aria-hidden="true" tabindex="-1"></a><span class="in">#load packages</span></span>
<span id="cb144-92"><a href="#cb144-92" aria-hidden="true" tabindex="-1"></a><span class="in">library(warbleR)</span></span>
<span id="cb144-93"><a href="#cb144-93" aria-hidden="true" tabindex="-1"></a><span class="in"># library(knitr)</span></span>
<span id="cb144-94"><a href="#cb144-94" aria-hidden="true" tabindex="-1"></a><span class="in"># library(kableExtra)</span></span>
<span id="cb144-95"><a href="#cb144-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-96"><a href="#cb144-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-97"><a href="#cb144-97" aria-hidden="true" tabindex="-1"></a><span class="in">cf &lt;- read.csv("./data/cuadro de funciones warbleR.csv", stringsAsFactors = FALSE)</span></span>
<span id="cb144-98"><a href="#cb144-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-99"><a href="#cb144-99" aria-hidden="true" tabindex="-1"></a><span class="in">warbleR_options(wav.path = "./examples") </span></span>
<span id="cb144-100"><a href="#cb144-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-101"><a href="#cb144-101" aria-hidden="true" tabindex="-1"></a><span class="in"># options(knitr.table.format = "html") </span></span>
<span id="cb144-102"><a href="#cb144-102" aria-hidden="true" tabindex="-1"></a><span class="in"># opts_chunk$set(comment = "")</span></span>
<span id="cb144-103"><a href="#cb144-103" aria-hidden="true" tabindex="-1"></a><span class="in"># opts_knit$set(root.dir = tempdir())</span></span>
<span id="cb144-104"><a href="#cb144-104" aria-hidden="true" tabindex="-1"></a><span class="in"># options(width = 100, max.print = 100)</span></span>
<span id="cb144-105"><a href="#cb144-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-106"><a href="#cb144-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-107"><a href="#cb144-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-110"><a href="#cb144-110" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb144-111"><a href="#cb144-111" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"lbh_selec_table"</span>)</span>
<span id="cb144-112"><a href="#cb144-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-113"><a href="#cb144-113" aria-hidden="true" tabindex="-1"></a>lbh_selec_table</span>
<span id="cb144-114"><a href="#cb144-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-115"><a href="#cb144-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-116"><a href="#cb144-116" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-117"><a href="#cb144-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-118"><a href="#cb144-118" aria-hidden="true" tabindex="-1"></a>... and can be converted to the *selection_table* format like this:</span>
<span id="cb144-119"><a href="#cb144-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-120"><a href="#cb144-120" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_4.32, eval = FALSE}</span></span>
<span id="cb144-121"><a href="#cb144-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-122"><a href="#cb144-122" aria-hidden="true" tabindex="-1"></a><span class="in"># global parameters</span></span>
<span id="cb144-123"><a href="#cb144-123" aria-hidden="true" tabindex="-1"></a><span class="in">warbleR_options(wav.path = "./examples")</span></span>
<span id="cb144-124"><a href="#cb144-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-125"><a href="#cb144-125" aria-hidden="true" tabindex="-1"></a><span class="in">st &lt;- selection_table(X = lbh_selec_table, pb = FALSE)</span></span>
<span id="cb144-126"><a href="#cb144-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-127"><a href="#cb144-127" aria-hidden="true" tabindex="-1"></a><span class="in">st</span></span>
<span id="cb144-128"><a href="#cb144-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-129"><a href="#cb144-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-130"><a href="#cb144-130" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = TRUE, echo = FALSE}</span></span>
<span id="cb144-131"><a href="#cb144-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-132"><a href="#cb144-132" aria-hidden="true" tabindex="-1"></a><span class="in">st &lt;- selection_table(X = lbh_selec_table, pb = FALSE)</span></span>
<span id="cb144-133"><a href="#cb144-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-134"><a href="#cb144-134" aria-hidden="true" tabindex="-1"></a><span class="in">st</span></span>
<span id="cb144-135"><a href="#cb144-135" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-136"><a href="#cb144-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-137"><a href="#cb144-137" aria-hidden="true" tabindex="-1"></a>Note that the path to the sound files has been provided. This is necessary in order to verify that the data provided conforms to the characteristics of the audio files.</span>
<span id="cb144-138"><a href="#cb144-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-139"><a href="#cb144-139" aria-hidden="true" tabindex="-1"></a>Selection tables have their own class in R:</span>
<span id="cb144-140"><a href="#cb144-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-143"><a href="#cb144-143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb144-144"><a href="#cb144-144" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(st)</span>
<span id="cb144-145"><a href="#cb144-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-146"><a href="#cb144-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-147"><a href="#cb144-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-148"><a href="#cb144-148" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-149"><a href="#cb144-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-150"><a href="#cb144-150" aria-hidden="true" tabindex="-1"></a><span class="fu">### Extended selection tables</span></span>
<span id="cb144-151"><a href="#cb144-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-152"><a href="#cb144-152" aria-hidden="true" tabindex="-1"></a>When the <span class="in">`extended = TRUE`</span> argument the function generates an object of the *extended_selection_table* class that also contains a list of 'wave' objects corresponding to each of the selections in the data. Therefore, the function **transforms the selection table into self-contained objects** since the original sound files are no longer needed to perform most of the acoustic analysis in **warbleR**. This can greatly facilitate the storage and exchange of (bio)acoustic data. In addition, it also speeds up analysis, since it is not necessary to read the sound files every time the data is analyzed.</span>
<span id="cb144-153"><a href="#cb144-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-154"><a href="#cb144-154" aria-hidden="true" tabindex="-1"></a>Now, as mentioned earlier, you need the <span class="in">`selection_table()`</span> function to create an extended selection table. You must also set the argument <span class="in">`extended = TRUE`</span> (otherwise, the class would be a selection table). The following code converts the sample data into an extended selection table:</span>
<span id="cb144-155"><a href="#cb144-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-156"><a href="#cb144-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_4.3, eval = FALSE}</span></span>
<span id="cb144-157"><a href="#cb144-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-158"><a href="#cb144-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-159"><a href="#cb144-159" aria-hidden="true" tabindex="-1"></a><span class="in">#  global parameters</span></span>
<span id="cb144-160"><a href="#cb144-160" aria-hidden="true" tabindex="-1"></a><span class="in">warbleR_options(wav.path = "./examples")</span></span>
<span id="cb144-161"><a href="#cb144-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-162"><a href="#cb144-162" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st &lt;- selection_table(X = lbh_selec_table, pb = FALSE, </span></span>
<span id="cb144-163"><a href="#cb144-163" aria-hidden="true" tabindex="-1"></a><span class="in">          extended = TRUE, confirm.extended = FALSE)</span></span>
<span id="cb144-164"><a href="#cb144-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-165"><a href="#cb144-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-166"><a href="#cb144-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-167"><a href="#cb144-167" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_4.33, eval = TRUE, echo = FALSE}</span></span>
<span id="cb144-168"><a href="#cb144-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-169"><a href="#cb144-169" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st &lt;- selection_table(X = lbh_selec_table, pb = FALSE, </span></span>
<span id="cb144-170"><a href="#cb144-170" aria-hidden="true" tabindex="-1"></a><span class="in">          extended = TRUE, confirm.extended = FALSE)</span></span>
<span id="cb144-171"><a href="#cb144-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-172"><a href="#cb144-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-173"><a href="#cb144-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-174"><a href="#cb144-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-175"><a href="#cb144-175" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-176"><a href="#cb144-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-177"><a href="#cb144-177" aria-hidden="true" tabindex="-1"></a>And that is. Now the acoustic data and the selection data (as well as the additional metadata) are all together in a single R object.</span>
<span id="cb144-178"><a href="#cb144-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-179"><a href="#cb144-179" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-180"><a href="#cb144-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-181"><a href="#cb144-181" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-182"><a href="#cb144-182" aria-hidden="true" tabindex="-1"></a>&lt;font size="5"&gt;Exercise&lt;/font&gt;</span>
<span id="cb144-183"><a href="#cb144-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-184"><a href="#cb144-184" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-185"><a href="#cb144-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-186"><a href="#cb144-186" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Run the example code in the <span class="in">`selection_table()`</span> function documentation</span>
<span id="cb144-187"><a href="#cb144-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-188"><a href="#cb144-188" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>What do the arguments "mar", "by.song" and "whole.recs" do?</span>
<span id="cb144-189"><a href="#cb144-189" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-190"><a href="#cb144-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-191"><a href="#cb144-191" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-192"><a href="#cb144-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-193"><a href="#cb144-193" aria-hidden="true" tabindex="-1"></a><span class="fu">### Handling extended selection tables</span></span>
<span id="cb144-194"><a href="#cb144-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-195"><a href="#cb144-195" aria-hidden="true" tabindex="-1"></a>Several functions can be used to deal with objects of this class. You can test if the object belongs to the *extended_selection_table*:</span>
<span id="cb144-196"><a href="#cb144-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-197"><a href="#cb144-197" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_5}</span></span>
<span id="cb144-198"><a href="#cb144-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-199"><a href="#cb144-199" aria-hidden="true" tabindex="-1"></a><span class="in">is_extended_selection_table(ext_st)</span></span>
<span id="cb144-200"><a href="#cb144-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-201"><a href="#cb144-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-202"><a href="#cb144-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-203"><a href="#cb144-203" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-204"><a href="#cb144-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-205"><a href="#cb144-205" aria-hidden="true" tabindex="-1"></a>You can subset the selection in the same way that any other data frame and it will still keep its attributes:</span>
<span id="cb144-206"><a href="#cb144-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-207"><a href="#cb144-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_6}</span></span>
<span id="cb144-208"><a href="#cb144-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-209"><a href="#cb144-209" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st2 &lt;- ext_st[1:2, ]</span></span>
<span id="cb144-210"><a href="#cb144-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-211"><a href="#cb144-211" aria-hidden="true" tabindex="-1"></a><span class="in">is_extended_selection_table(ext_st2)</span></span>
<span id="cb144-212"><a href="#cb144-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-213"><a href="#cb144-213" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-214"><a href="#cb144-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-215"><a href="#cb144-215" aria-hidden="true" tabindex="-1"></a>There is also a generic version of <span class="in">`print()`</span> for this class of objects:</span>
<span id="cb144-216"><a href="#cb144-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-217"><a href="#cb144-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_7}</span></span>
<span id="cb144-218"><a href="#cb144-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-219"><a href="#cb144-219" aria-hidden="true" tabindex="-1"></a><span class="in">## print</span></span>
<span id="cb144-220"><a href="#cb144-220" aria-hidden="true" tabindex="-1"></a><span class="in">print(ext_st)</span></span>
<span id="cb144-221"><a href="#cb144-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-222"><a href="#cb144-222" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-223"><a href="#cb144-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-224"><a href="#cb144-224" aria-hidden="true" tabindex="-1"></a>... which is equivalent to:</span>
<span id="cb144-225"><a href="#cb144-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-226"><a href="#cb144-226" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_7.1, eval=FALSE}</span></span>
<span id="cb144-227"><a href="#cb144-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-228"><a href="#cb144-228" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st</span></span>
<span id="cb144-229"><a href="#cb144-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-230"><a href="#cb144-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-231"><a href="#cb144-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-232"><a href="#cb144-232" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_7/2, echo=FALSE}</span></span>
<span id="cb144-233"><a href="#cb144-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-234"><a href="#cb144-234" aria-hidden="true" tabindex="-1"></a><span class="in">print(ext_st)</span></span>
<span id="cb144-235"><a href="#cb144-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-236"><a href="#cb144-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-237"><a href="#cb144-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-238"><a href="#cb144-238" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-239"><a href="#cb144-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-240"><a href="#cb144-240" aria-hidden="true" tabindex="-1"></a>You can also join them in rows. Here the original *extended_selection_table* is divided into 2 and bound again using <span class="in">`rbind()`</span>:</span>
<span id="cb144-241"><a href="#cb144-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-242"><a href="#cb144-242" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8, eval = FALSE}</span></span>
<span id="cb144-243"><a href="#cb144-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-244"><a href="#cb144-244" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st3 &lt;- ext_st[1:5, ]</span></span>
<span id="cb144-245"><a href="#cb144-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-246"><a href="#cb144-246" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st4 &lt;- ext_st[6:11, ]</span></span>
<span id="cb144-247"><a href="#cb144-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-248"><a href="#cb144-248" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st5 &lt;- rbind(ext_st3, ext_st4)</span></span>
<span id="cb144-249"><a href="#cb144-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-250"><a href="#cb144-250" aria-hidden="true" tabindex="-1"></a><span class="in">#print</span></span>
<span id="cb144-251"><a href="#cb144-251" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st5</span></span>
<span id="cb144-252"><a href="#cb144-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-253"><a href="#cb144-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-254"><a href="#cb144-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-255"><a href="#cb144-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.1, echo=FALSE}</span></span>
<span id="cb144-256"><a href="#cb144-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-257"><a href="#cb144-257" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st3 &lt;- ext_st[1:5, ]</span></span>
<span id="cb144-258"><a href="#cb144-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-259"><a href="#cb144-259" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st4 &lt;- ext_st[6:11, ]</span></span>
<span id="cb144-260"><a href="#cb144-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-261"><a href="#cb144-261" aria-hidden="true" tabindex="-1"></a><span class="in">ext_st5 &lt;- rbind(ext_st3, ext_st4)</span></span>
<span id="cb144-262"><a href="#cb144-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-263"><a href="#cb144-263" aria-hidden="true" tabindex="-1"></a><span class="in">#print</span></span>
<span id="cb144-264"><a href="#cb144-264" aria-hidden="true" tabindex="-1"></a><span class="in">print(ext_st5)</span></span>
<span id="cb144-265"><a href="#cb144-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-266"><a href="#cb144-266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-267"><a href="#cb144-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-268"><a href="#cb144-268" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.2}</span></span>
<span id="cb144-269"><a href="#cb144-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-270"><a href="#cb144-270" aria-hidden="true" tabindex="-1"></a><span class="in"># are they equal?</span></span>
<span id="cb144-271"><a href="#cb144-271" aria-hidden="true" tabindex="-1"></a><span class="in">all.equal(ext_st, ext_st5)</span></span>
<span id="cb144-272"><a href="#cb144-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-273"><a href="#cb144-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-274"><a href="#cb144-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-275"><a href="#cb144-275" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-276"><a href="#cb144-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-277"><a href="#cb144-277" aria-hidden="true" tabindex="-1"></a>The 'wave' objects can be read individually using <span class="in">`read_wave()`</span>, a wrapper for the <span class="in">`readWave()`</span> function of **tuneR**, which can handle extended selection tables:</span>
<span id="cb144-278"><a href="#cb144-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-279"><a href="#cb144-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.21}</span></span>
<span id="cb144-280"><a href="#cb144-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-281"><a href="#cb144-281" aria-hidden="true" tabindex="-1"></a><span class="in">wv1 &lt;- read_wave(X = ext_st, index = 3, from = 0, to = 0.37)</span></span>
<span id="cb144-282"><a href="#cb144-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-283"><a href="#cb144-283" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-284"><a href="#cb144-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-285"><a href="#cb144-285" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-286"><a href="#cb144-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-287"><a href="#cb144-287" aria-hidden="true" tabindex="-1"></a>These are regular 'wave' objects:</span>
<span id="cb144-288"><a href="#cb144-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-289"><a href="#cb144-289" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.22, out.width= 750}</span></span>
<span id="cb144-290"><a href="#cb144-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-291"><a href="#cb144-291" aria-hidden="true" tabindex="-1"></a><span class="in">class(wv1)</span></span>
<span id="cb144-292"><a href="#cb144-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-293"><a href="#cb144-293" aria-hidden="true" tabindex="-1"></a><span class="in">wv1</span></span>
<span id="cb144-294"><a href="#cb144-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-295"><a href="#cb144-295" aria-hidden="true" tabindex="-1"></a><span class="in">spectro(wv1, wl = 150, grid = FALSE, scale = FALSE, ovlp = 90)</span></span>
<span id="cb144-296"><a href="#cb144-296" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-297"><a href="#cb144-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-298"><a href="#cb144-298" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-299"><a href="#cb144-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-300"><a href="#cb144-300" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.23, out.width= 750}</span></span>
<span id="cb144-301"><a href="#cb144-301" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(3, 2), mar = rep(0, 4))</span></span>
<span id="cb144-302"><a href="#cb144-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-303"><a href="#cb144-303" aria-hidden="true" tabindex="-1"></a><span class="in">for(i in 1:6){</span></span>
<span id="cb144-304"><a href="#cb144-304" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb144-305"><a href="#cb144-305" aria-hidden="true" tabindex="-1"></a><span class="in">  wv &lt;- read_wave(X = ext_st, index = i, from = 0.05, to = 0.32)</span></span>
<span id="cb144-306"><a href="#cb144-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-307"><a href="#cb144-307" aria-hidden="true" tabindex="-1"></a><span class="in">  spectro(wv, wl = 150, grid = FALSE, scale = FALSE, axisX = FALSE,</span></span>
<span id="cb144-308"><a href="#cb144-308" aria-hidden="true" tabindex="-1"></a><span class="in">          axisY = FALSE, ovlp = 90)</span></span>
<span id="cb144-309"><a href="#cb144-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-310"><a href="#cb144-310" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb144-311"><a href="#cb144-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-312"><a href="#cb144-312" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-313"><a href="#cb144-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-314"><a href="#cb144-314" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-315"><a href="#cb144-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-316"><a href="#cb144-316" aria-hidden="true" tabindex="-1"></a>The <span class="in">`read_wave()`</span> function requires the selection table, as well as the row index (i.e. the row number) to be able to read the 'wave' objects. It can also read a regular 'wave' file if the path is provided.</span>
<span id="cb144-317"><a href="#cb144-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-318"><a href="#cb144-318" aria-hidden="true" tabindex="-1"></a>Note that other functions that modify data frames are likely to delete the attributes in which the 'wave' objects and metadata are stored. For example, the merge and the extended selection box will remove its attributes:</span>
<span id="cb144-319"><a href="#cb144-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-320"><a href="#cb144-320" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.24}</span></span>
<span id="cb144-321"><a href="#cb144-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-322"><a href="#cb144-322" aria-hidden="true" tabindex="-1"></a><span class="in"># create new data base</span></span>
<span id="cb144-323"><a href="#cb144-323" aria-hidden="true" tabindex="-1"></a><span class="in">Y &lt;- data.frame(sound.files = ext_st$sound.files, site = "La Selva", lek = c(rep("SUR", 5), rep("CCL", 6)))</span></span>
<span id="cb144-324"><a href="#cb144-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-325"><a href="#cb144-325" aria-hidden="true" tabindex="-1"></a><span class="in"># combine</span></span>
<span id="cb144-326"><a href="#cb144-326" aria-hidden="true" tabindex="-1"></a><span class="in">mrg_ext_st &lt;- merge(ext_st, Y, by = "sound.files")</span></span>
<span id="cb144-327"><a href="#cb144-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-328"><a href="#cb144-328" aria-hidden="true" tabindex="-1"></a><span class="in"># check class</span></span>
<span id="cb144-329"><a href="#cb144-329" aria-hidden="true" tabindex="-1"></a><span class="in">is_extended_selection_table(mrg_ext_st)</span></span>
<span id="cb144-330"><a href="#cb144-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-331"><a href="#cb144-331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-332"><a href="#cb144-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-333"><a href="#cb144-333" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-334"><a href="#cb144-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-335"><a href="#cb144-335" aria-hidden="true" tabindex="-1"></a>In this case, we can use the <span class="in">`fix_extended_selection_table()`</span> function to transfer the attributes of the original extended selection table:</span>
<span id="cb144-336"><a href="#cb144-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-337"><a href="#cb144-337" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_8.25}</span></span>
<span id="cb144-338"><a href="#cb144-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-339"><a href="#cb144-339" aria-hidden="true" tabindex="-1"></a><span class="in"># fix</span></span>
<span id="cb144-340"><a href="#cb144-340" aria-hidden="true" tabindex="-1"></a><span class="in">mrg_ext_st &lt;- fix_extended_selection_table(X = mrg_ext_st, Y = ext_st)</span></span>
<span id="cb144-341"><a href="#cb144-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-342"><a href="#cb144-342" aria-hidden="true" tabindex="-1"></a><span class="in"># check class</span></span>
<span id="cb144-343"><a href="#cb144-343" aria-hidden="true" tabindex="-1"></a><span class="in">is_extended_selection_table(mrg_ext_st)</span></span>
<span id="cb144-344"><a href="#cb144-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-345"><a href="#cb144-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-346"><a href="#cb144-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-347"><a href="#cb144-347" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-348"><a href="#cb144-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-349"><a href="#cb144-349" aria-hidden="true" tabindex="-1"></a>This works as long as some of the original sound files are retained and no other selections are added.</span>
<span id="cb144-350"><a href="#cb144-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-351"><a href="#cb144-351" aria-hidden="true" tabindex="-1"></a>&amp; nbsp;</span>
<span id="cb144-352"><a href="#cb144-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-353"><a href="#cb144-353" aria-hidden="true" tabindex="-1"></a><span class="fu">### Selection table size</span></span>
<span id="cb144-354"><a href="#cb144-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-355"><a href="#cb144-355" aria-hidden="true" tabindex="-1"></a>The size of the extended selection box will depend on the number of selections, the sampling rate, the duration of the selection and the length of margins (i.e. additional time you want to keep on each side of the selection). In this example, a selection table with 1000 selections is created simply by repeating the sample data frame several times and then is converted to an extended selection table:</span>
<span id="cb144-356"><a href="#cb144-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-357"><a href="#cb144-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_9, eval=FALSE}</span></span>
<span id="cb144-358"><a href="#cb144-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-359"><a href="#cb144-359" aria-hidden="true" tabindex="-1"></a><span class="in">lng.selec.table &lt;- do.call(rbind, replicate(100, lbh_selec_table, </span></span>
<span id="cb144-360"><a href="#cb144-360" aria-hidden="true" tabindex="-1"></a><span class="in">                        simplify = FALSE))[1:1000,]</span></span>
<span id="cb144-361"><a href="#cb144-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-362"><a href="#cb144-362" aria-hidden="true" tabindex="-1"></a><span class="in">lng.selec.table$selec &lt;- 1:nrow(lng.selec.table)</span></span>
<span id="cb144-363"><a href="#cb144-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-364"><a href="#cb144-364" aria-hidden="true" tabindex="-1"></a><span class="in">nrow(lng.selec.table)</span></span>
<span id="cb144-365"><a href="#cb144-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-366"><a href="#cb144-366" aria-hidden="true" tabindex="-1"></a><span class="in">lng_ext_st &lt;- selection_table(X = lng.selec.table, pb = FALSE, </span></span>
<span id="cb144-367"><a href="#cb144-367" aria-hidden="true" tabindex="-1"></a><span class="in">                        extended = TRUE, confirm.extended = FALSE)</span></span>
<span id="cb144-368"><a href="#cb144-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-369"><a href="#cb144-369" aria-hidden="true" tabindex="-1"></a><span class="in">lng_ext_st</span></span>
<span id="cb144-370"><a href="#cb144-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-371"><a href="#cb144-371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-372"><a href="#cb144-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-373"><a href="#cb144-373" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_9.2, echo=FALSE}</span></span>
<span id="cb144-374"><a href="#cb144-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-375"><a href="#cb144-375" aria-hidden="true" tabindex="-1"></a><span class="in">lng.selec.table &lt;- do.call(rbind, replicate(100, lbh_selec_table, </span></span>
<span id="cb144-376"><a href="#cb144-376" aria-hidden="true" tabindex="-1"></a><span class="in">                        simplify = FALSE))[1:1000,]</span></span>
<span id="cb144-377"><a href="#cb144-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-378"><a href="#cb144-378" aria-hidden="true" tabindex="-1"></a><span class="in">lng.selec.table$selec &lt;- 1:nrow(lng.selec.table)</span></span>
<span id="cb144-379"><a href="#cb144-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-380"><a href="#cb144-380" aria-hidden="true" tabindex="-1"></a><span class="in">lng_ext_st &lt;- selection_table(X = lng.selec.table, pb = FALSE, </span></span>
<span id="cb144-381"><a href="#cb144-381" aria-hidden="true" tabindex="-1"></a><span class="in">                        extended = TRUE, confirm.extended = FALSE)</span></span>
<span id="cb144-382"><a href="#cb144-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-383"><a href="#cb144-383" aria-hidden="true" tabindex="-1"></a><span class="in">print(lng_ext_st)</span></span>
<span id="cb144-384"><a href="#cb144-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-385"><a href="#cb144-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-386"><a href="#cb144-386" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-387"><a href="#cb144-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-388"><a href="#cb144-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_9.3}</span></span>
<span id="cb144-389"><a href="#cb144-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-390"><a href="#cb144-390" aria-hidden="true" tabindex="-1"></a><span class="in">format(object.size(lng_ext_st), units = "auto")</span></span>
<span id="cb144-391"><a href="#cb144-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-392"><a href="#cb144-392" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-393"><a href="#cb144-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-394"><a href="#cb144-394" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-395"><a href="#cb144-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-396"><a href="#cb144-396" aria-hidden="true" tabindex="-1"></a>As you can see, the object size is only \~ 31 MB. Then, as a guide, a selection box with 1000 selections similar to those of 'lbh_selec_table' (average duration of \~ 0.15 seconds) at a sampling rate of 22.5 kHz and the default margin (mar = 0.1) will generate an extended selection box \~ 31 MB or \~ 310 MB for a selection table of 10,000 rows.</span>
<span id="cb144-397"><a href="#cb144-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-398"><a href="#cb144-398" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-399"><a href="#cb144-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-400"><a href="#cb144-400" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis using extended selection tables</span></span>
<span id="cb144-401"><a href="#cb144-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-402"><a href="#cb144-402" aria-hidden="true" tabindex="-1"></a>These objects can be used as input for most **warbleR** functions. Here are some examples of **warbleR** functions using *extended_selection_table*:</span>
<span id="cb144-403"><a href="#cb144-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-404"><a href="#cb144-404" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spectral parameters</span></span>
<span id="cb144-405"><a href="#cb144-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-406"><a href="#cb144-406" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_12.1, eval=TRUE}</span></span>
<span id="cb144-407"><a href="#cb144-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-408"><a href="#cb144-408" aria-hidden="true" tabindex="-1"></a><span class="in">#  spectrographic parameters</span></span>
<span id="cb144-409"><a href="#cb144-409" aria-hidden="true" tabindex="-1"></a><span class="in">sp &lt;- spectro_analysis(ext_st)</span></span>
<span id="cb144-410"><a href="#cb144-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-411"><a href="#cb144-411" aria-hidden="true" tabindex="-1"></a><span class="in">sp</span></span>
<span id="cb144-412"><a href="#cb144-412" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-413"><a href="#cb144-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-414"><a href="#cb144-414" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-415"><a href="#cb144-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-416"><a href="#cb144-416" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Signal-to-noise ratio</span></span>
<span id="cb144-417"><a href="#cb144-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-418"><a href="#cb144-418" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_12.5, eval=TRUE}</span></span>
<span id="cb144-419"><a href="#cb144-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-420"><a href="#cb144-420" aria-hidden="true" tabindex="-1"></a><span class="in">snr &lt;- sig2noise(ext_st, mar = 0.05)</span></span>
<span id="cb144-421"><a href="#cb144-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-422"><a href="#cb144-422" aria-hidden="true" tabindex="-1"></a><span class="in">snr</span></span>
<span id="cb144-423"><a href="#cb144-423" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-424"><a href="#cb144-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-425"><a href="#cb144-425" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-426"><a href="#cb144-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-427"><a href="#cb144-427" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Dynamic time warping (DTW)</span></span>
<span id="cb144-428"><a href="#cb144-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-429"><a href="#cb144-429" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_12.7, eval=FALSE}</span></span>
<span id="cb144-430"><a href="#cb144-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-431"><a href="#cb144-431" aria-hidden="true" tabindex="-1"></a><span class="in">dtw.dist &lt;- freq_DTW(ext_st, img = FALSE)</span></span>
<span id="cb144-432"><a href="#cb144-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-433"><a href="#cb144-433" aria-hidden="true" tabindex="-1"></a><span class="in">dtw.dist</span></span>
<span id="cb144-434"><a href="#cb144-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-435"><a href="#cb144-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-436"><a href="#cb144-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-437"><a href="#cb144-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_12.8, echo=TRUE}</span></span>
<span id="cb144-438"><a href="#cb144-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-439"><a href="#cb144-439" aria-hidden="true" tabindex="-1"></a><span class="in">dtw.dist &lt;- freq_DTW(ext_st, img = FALSE)</span></span>
<span id="cb144-440"><a href="#cb144-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-441"><a href="#cb144-441" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(dtw.dist)</span></span>
<span id="cb144-442"><a href="#cb144-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-443"><a href="#cb144-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-444"><a href="#cb144-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-445"><a href="#cb144-445" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-446"><a href="#cb144-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-447"><a href="#cb144-447" aria-hidden="true" tabindex="-1"></a><span class="fu">### Performance</span></span>
<span id="cb144-448"><a href="#cb144-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-449"><a href="#cb144-449" aria-hidden="true" tabindex="-1"></a>The use of *extended_selection_table* objects can improve performance (in our case, measured as time). Here we use **microbenchmark** to compare the performance of `sig2noise()` and **ggplot2** to plot the results:</span>
<span id="cb144-450"><a href="#cb144-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-451"><a href="#cb144-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_13, out.width= 750, dpi = 100}</span></span>
<span id="cb144-452"><a href="#cb144-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-453"><a href="#cb144-453" aria-hidden="true" tabindex="-1"></a><span class="in"># load packages</span></span>
<span id="cb144-454"><a href="#cb144-454" aria-hidden="true" tabindex="-1"></a><span class="in">library(microbenchmark)</span></span>
<span id="cb144-455"><a href="#cb144-455" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb144-456"><a href="#cb144-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-457"><a href="#cb144-457" aria-hidden="true" tabindex="-1"></a><span class="in"># take first 100 selections</span></span>
<span id="cb144-458"><a href="#cb144-458" aria-hidden="true" tabindex="-1"></a><span class="in">mbmrk.snr &lt;- microbenchmark(extended = sig2noise(lng_ext_st[1:100, ], </span></span>
<span id="cb144-459"><a href="#cb144-459" aria-hidden="true" tabindex="-1"></a><span class="in">      mar = 0.05), regular = sig2noise(lng.selec.table[1:100, ], </span></span>
<span id="cb144-460"><a href="#cb144-460" aria-hidden="true" tabindex="-1"></a><span class="in">                    mar = 0.05), times = 50)</span></span>
<span id="cb144-461"><a href="#cb144-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-462"><a href="#cb144-462" aria-hidden="true" tabindex="-1"></a><span class="in">autoplot(mbmrk.snr) + ggtitle("sig2noise")</span></span>
<span id="cb144-463"><a href="#cb144-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-464"><a href="#cb144-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-465"><a href="#cb144-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-466"><a href="#cb144-466" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-467"><a href="#cb144-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-468"><a href="#cb144-468" aria-hidden="true" tabindex="-1"></a>The function runs much faster in the extended selection tables. Performance gain is likely to improve when longer recordings and data sets are used (that is, to compensate for computer overload).</span>
<span id="cb144-469"><a href="#cb144-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-470"><a href="#cb144-470" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-471"><a href="#cb144-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-472"><a href="#cb144-472" aria-hidden="true" tabindex="-1"></a><span class="fu">### Create selections 'by song'</span></span>
<span id="cb144-473"><a href="#cb144-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-474"><a href="#cb144-474" aria-hidden="true" tabindex="-1"></a>The extended selection above were made by element. That is, each sound file within the object contains a single selection (that is, a 1: 1 correspondence between the selections and the 'wave' objects). However, extended selection tables can also be created using a higher hierarchical level with the argument <span class="in">`by.song`</span>. In this case, "song" represents a higher level that contains one or more selections and that the user may want to keep together for a particular analysis (for example, the duration of the intervals). The <span class="in">`by.song`</span> argument takes the name of the column of characters or factors with the IDs of the different" songs "within a sound file (note that the function assumes that a given song can only be found in only one sound file, so the selections with the same song ID, but from different sound files are taken as different 'songs').</span>
<span id="cb144-475"><a href="#cb144-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-476"><a href="#cb144-476" aria-hidden="true" tabindex="-1"></a>To create a selection table by song, let's add an artificial song column to our example data in which each of the sound files has 2 songs:</span>
<span id="cb144-477"><a href="#cb144-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-478"><a href="#cb144-478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_14}</span></span>
<span id="cb144-479"><a href="#cb144-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-480"><a href="#cb144-480" aria-hidden="true" tabindex="-1"></a><span class="in"># add column</span></span>
<span id="cb144-481"><a href="#cb144-481" aria-hidden="true" tabindex="-1"></a><span class="in">lbh_selec_table$song &lt;- c(1, 1, 2, 1, 2, 1, 1, 2, 1, 2, 2)</span></span>
<span id="cb144-482"><a href="#cb144-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-483"><a href="#cb144-483" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-484"><a href="#cb144-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-485"><a href="#cb144-485" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-486"><a href="#cb144-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-487"><a href="#cb144-487" aria-hidden="true" tabindex="-1"></a>The data looks like this:</span>
<span id="cb144-488"><a href="#cb144-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-489"><a href="#cb144-489" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, extn_sel_15, echo= FALSE}</span></span>
<span id="cb144-490"><a href="#cb144-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-491"><a href="#cb144-491" aria-hidden="true" tabindex="-1"></a><span class="in">lbh_selec_table</span></span>
<span id="cb144-492"><a href="#cb144-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-493"><a href="#cb144-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-494"><a href="#cb144-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-495"><a href="#cb144-495" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-496"><a href="#cb144-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-497"><a href="#cb144-497" aria-hidden="true" tabindex="-1"></a>Now we can create an extended selection table 'by song' using the column name 'song' as input for the argument <span class="in">`by.song`</span>:</span>
<span id="cb144-498"><a href="#cb144-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-499"><a href="#cb144-499" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_16}</span></span>
<span id="cb144-500"><a href="#cb144-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-501"><a href="#cb144-501" aria-hidden="true" tabindex="-1"></a><span class="in">bs_ext_st &lt;- selection_table(X = lbh_selec_table, extended = TRUE,</span></span>
<span id="cb144-502"><a href="#cb144-502" aria-hidden="true" tabindex="-1"></a><span class="in">                              confirm.extended = FALSE, by.song = "song")</span></span>
<span id="cb144-503"><a href="#cb144-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-504"><a href="#cb144-504" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-505"><a href="#cb144-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-506"><a href="#cb144-506" aria-hidden="true" tabindex="-1"></a>In this case, we should only have 8 'wave' objects instead of 11 as when the object was created 'by selection':</span>
<span id="cb144-507"><a href="#cb144-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-508"><a href="#cb144-508" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_17}</span></span>
<span id="cb144-509"><a href="#cb144-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-510"><a href="#cb144-510" aria-hidden="true" tabindex="-1"></a><span class="in"># by element</span></span>
<span id="cb144-511"><a href="#cb144-511" aria-hidden="true" tabindex="-1"></a><span class="in">length(attr(ext_st, "wave.objects"))</span></span>
<span id="cb144-512"><a href="#cb144-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-513"><a href="#cb144-513" aria-hidden="true" tabindex="-1"></a><span class="in"># by song</span></span>
<span id="cb144-514"><a href="#cb144-514" aria-hidden="true" tabindex="-1"></a><span class="in">length(attr(bs_ext_st, "wave.objects"))</span></span>
<span id="cb144-515"><a href="#cb144-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-516"><a href="#cb144-516" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-517"><a href="#cb144-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-518"><a href="#cb144-518" aria-hidden="true" tabindex="-1"></a>Again, these objects can also be used in any analyzes:</span>
<span id="cb144-519"><a href="#cb144-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-520"><a href="#cb144-520" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn_sel_18}</span></span>
<span id="cb144-521"><a href="#cb144-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-522"><a href="#cb144-522" aria-hidden="true" tabindex="-1"></a><span class="in"># signal to noise ratio</span></span>
<span id="cb144-523"><a href="#cb144-523" aria-hidden="true" tabindex="-1"></a><span class="in">bs_snr &lt;- sig2noise(bs_ext_st, mar = 0.05)</span></span>
<span id="cb144-524"><a href="#cb144-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-525"><a href="#cb144-525" aria-hidden="true" tabindex="-1"></a><span class="in">bs_snr</span></span>
<span id="cb144-526"><a href="#cb144-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-527"><a href="#cb144-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-528"><a href="#cb144-528" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-529"><a href="#cb144-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-530"><a href="#cb144-530" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-531"><a href="#cb144-531" aria-hidden="true" tabindex="-1"></a>&lt;font size="5"&gt;Exercise&lt;/font&gt;</span>
<span id="cb144-532"><a href="#cb144-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-533"><a href="#cb144-533" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-534"><a href="#cb144-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-535"><a href="#cb144-535" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Compare the size of an extended selection table created by element to that of one created by song using the sample data</span>
<span id="cb144-536"><a href="#cb144-536" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-537"><a href="#cb144-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-538"><a href="#cb144-538" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-539"><a href="#cb144-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-540"><a href="#cb144-540" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sharing acoustic data</span></span>
<span id="cb144-541"><a href="#cb144-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-542"><a href="#cb144-542" aria-hidden="true" tabindex="-1"></a>This new object class allows to share complete data sets, including acoustic data. For example, the following code downloads a subset of the data used in <span class="co">[</span><span class="ot">Araya-Salas *et al* (2017)</span><span class="co">](https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/araya-salas_smith-vidaurre___webster_2017._table_s1._recording_metadata.xlsx)</span> (can also be downloaded from <span class="co">[</span><span class="ot">here</span><span class="co">](https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/extended.selection.%20table.araya-salas.et.al.2017.bioacoustics.100.sels.rds)</span>):</span>
<span id="cb144-543"><a href="#cb144-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-544"><a href="#cb144-544" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn.sel_19, eval = FALSE}</span></span>
<span id="cb144-545"><a href="#cb144-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-546"><a href="#cb144-546" aria-hidden="true" tabindex="-1"></a><span class="in">URL &lt;- "https://github.com/maRce10/NMSU_BIR_2024/raw/master/data/extended.selection.table.araya-salas.et.al.2017.bioacoustics.100.sels.rds"</span></span>
<span id="cb144-547"><a href="#cb144-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-548"><a href="#cb144-548" aria-hidden="true" tabindex="-1"></a><span class="in">dat &lt;- readRDS(gzcon(url(URL)))</span></span>
<span id="cb144-549"><a href="#cb144-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-550"><a href="#cb144-550" aria-hidden="true" tabindex="-1"></a><span class="in">nrow(dat)</span></span>
<span id="cb144-551"><a href="#cb144-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-552"><a href="#cb144-552" aria-hidden="true" tabindex="-1"></a><span class="in">format(object.size(dat), units = "auto")</span></span>
<span id="cb144-553"><a href="#cb144-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-554"><a href="#cb144-554" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-555"><a href="#cb144-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-556"><a href="#cb144-556" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn.sel_19-2, echo = FALSE}</span></span>
<span id="cb144-557"><a href="#cb144-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-558"><a href="#cb144-558" aria-hidden="true" tabindex="-1"></a><span class="in">dat &lt;- readRDS("./data/extended.selection.table.araya-salas.et.al.2017.bioacoustics.100.sels.rds")</span></span>
<span id="cb144-559"><a href="#cb144-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-560"><a href="#cb144-560" aria-hidden="true" tabindex="-1"></a><span class="in">nrow(dat)</span></span>
<span id="cb144-561"><a href="#cb144-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-562"><a href="#cb144-562" aria-hidden="true" tabindex="-1"></a><span class="in">format(object.size(dat), units = "auto")</span></span>
<span id="cb144-563"><a href="#cb144-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-564"><a href="#cb144-564" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-565"><a href="#cb144-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-566"><a href="#cb144-566" aria-hidden="true" tabindex="-1"></a>The total size of the 100 sound files from which these selections were taken adds up to 1.1 GB. The size of the extended selection table is only 10.1 MB.</span>
<span id="cb144-567"><a href="#cb144-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-568"><a href="#cb144-568" aria-hidden="true" tabindex="-1"></a>This data is ready to be used:</span>
<span id="cb144-569"><a href="#cb144-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-570"><a href="#cb144-570" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = TRUE}</span></span>
<span id="cb144-571"><a href="#cb144-571" aria-hidden="true" tabindex="-1"></a><span class="in">sp &lt;- spectro_analysis(dat, bp = c(2, 10))</span></span>
<span id="cb144-572"><a href="#cb144-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-573"><a href="#cb144-573" aria-hidden="true" tabindex="-1"></a><span class="in">head(sp)</span></span>
<span id="cb144-574"><a href="#cb144-574" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-575"><a href="#cb144-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-576"><a href="#cb144-576" aria-hidden="true" tabindex="-1"></a>... and the spectrograms can be visualized as follows:</span>
<span id="cb144-577"><a href="#cb144-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-578"><a href="#cb144-578" aria-hidden="true" tabindex="-1"></a><span class="in">```{r extn.sel_21, out.width= 750}</span></span>
<span id="cb144-579"><a href="#cb144-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-580"><a href="#cb144-580" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(3, 2), mar = rep(0, 4))</span></span>
<span id="cb144-581"><a href="#cb144-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-582"><a href="#cb144-582" aria-hidden="true" tabindex="-1"></a><span class="in">for(i in 1:6){</span></span>
<span id="cb144-583"><a href="#cb144-583" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb144-584"><a href="#cb144-584" aria-hidden="true" tabindex="-1"></a><span class="in">  wv &lt;- read_wave(X = dat, index = i, from = 0.17, to = 0.4)</span></span>
<span id="cb144-585"><a href="#cb144-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-586"><a href="#cb144-586" aria-hidden="true" tabindex="-1"></a><span class="in">  spectro(wv, wl = 250, grid = FALSE, scale = FALSE, axisX = FALSE,</span></span>
<span id="cb144-587"><a href="#cb144-587" aria-hidden="true" tabindex="-1"></a><span class="in">          axisY = FALSE, ovlp = 90, flim = c(0, 12), </span></span>
<span id="cb144-588"><a href="#cb144-588" aria-hidden="true" tabindex="-1"></a><span class="in">          palette = reverse.gray.colors.1)</span></span>
<span id="cb144-589"><a href="#cb144-589" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb144-590"><a href="#cb144-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-591"><a href="#cb144-591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-592"><a href="#cb144-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-593"><a href="#cb144-593" aria-hidden="true" tabindex="-1"></a>The **NatureSounds** package contains an extended selection table with long-billed hermit hummingbirds vocalizations from 10 different song types:</span>
<span id="cb144-594"><a href="#cb144-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-597"><a href="#cb144-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb144-598"><a href="#cb144-598" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"Phae.long.est"</span>)</span>
<span id="cb144-599"><a href="#cb144-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-600"><a href="#cb144-600" aria-hidden="true" tabindex="-1"></a>Phae.long.est</span>
<span id="cb144-601"><a href="#cb144-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-602"><a href="#cb144-602" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Phae.long.est<span class="sc">$</span>lek.song.type)</span>
<span id="cb144-603"><a href="#cb144-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-604"><a href="#cb144-604" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-605"><a href="#cb144-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-606"><a href="#cb144-606" aria-hidden="true" tabindex="-1"></a>The ability to compress large data sets and the ease of performing analyzes that require a single R object can simplify the exchange of data and the reproducibility of bioacoustic analyzes.</span>
<span id="cb144-607"><a href="#cb144-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-608"><a href="#cb144-608" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-609"><a href="#cb144-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-610"><a href="#cb144-610" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-611"><a href="#cb144-611" aria-hidden="true" tabindex="-1"></a>&lt;font size="5"&gt;Exercise&lt;/font&gt;</span>
<span id="cb144-612"><a href="#cb144-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-613"><a href="#cb144-613" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-614"><a href="#cb144-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-615"><a href="#cb144-615" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Download the extended selection tables of bat social calls from the <span class="co">[</span><span class="ot">this figshare repository</span><span class="co">](https://figshare.com/articles/dataset/Supplementary_materials_Ontogeny_of_an_interactive_call-and-response_system_in_Spix_s_disc-winged_bats_PART_1/11651772)</span> (scroll till the end of the file list) and create spectrograms for the first 5 selections of each table (either <span class="in">`spectrograms()`</span> or <span class="in">`spectro()`</span> would work)</span>
<span id="cb144-616"><a href="#cb144-616" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-617"><a href="#cb144-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-618"><a href="#cb144-618" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-619"><a href="#cb144-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-620"><a href="#cb144-620" aria-hidden="true" tabindex="-1"></a><span class="fu">## **warbleR** functions and the workflow of analysis in bioacoustics</span></span>
<span id="cb144-621"><a href="#cb144-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-622"><a href="#cb144-622" aria-hidden="true" tabindex="-1"></a>Bioacoustic analyzes generally follow a specific processing sequence and analysis. This sequence can be represented schematically like this:</span>
<span id="cb144-623"><a href="#cb144-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-624"><a href="#cb144-624" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE, echo = FALSE}</span></span>
<span id="cb144-625"><a href="#cb144-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-626"><a href="#cb144-626" aria-hidden="true" tabindex="-1"></a><span class="in">library(warbleR)</span></span>
<span id="cb144-627"><a href="#cb144-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-628"><a href="#cb144-628" aria-hidden="true" tabindex="-1"></a><span class="in">wf &lt;- ls("package:warbleR")</span></span>
<span id="cb144-629"><a href="#cb144-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-630"><a href="#cb144-630" aria-hidden="true" tabindex="-1"></a><span class="in">wf &lt;- wf[-c(2, 7, 8, 10, 12, 16, 17, 19, 20, 23, 24, 28, 31, 32, 33, 38, 42, 43, 44, 47, 50, 53, 59, 64, 66, 68, 68, 72, 74, 80, 81, 85, 90, 93, 94, 96)]</span></span>
<span id="cb144-631"><a href="#cb144-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-632"><a href="#cb144-632" aria-hidden="true" tabindex="-1"></a><span class="in">df &lt;- data.frame(funciones = wf, `Obtener-preparar grabaciones` = "", `Anotar` = "", `Medir` = "",  `Revision` = "", `Inspección visual` = "", `Análisis estadístico` = "", `Otros` = "")</span></span>
<span id="cb144-633"><a href="#cb144-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-634"><a href="#cb144-634" aria-hidden="true" tabindex="-1"></a><span class="in">df2 &lt;- edit(df)</span></span>
<span id="cb144-635"><a href="#cb144-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-636"><a href="#cb144-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-637"><a href="#cb144-637" aria-hidden="true" tabindex="-1"></a><span class="in">df2$`organizar.anotaciones` &lt;- "" </span></span>
<span id="cb144-638"><a href="#cb144-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-639"><a href="#cb144-639" aria-hidden="true" tabindex="-1"></a><span class="in">names(df2) &lt;- names(df2)[c(1:3, 9, 4:8)]</span></span>
<span id="cb144-640"><a href="#cb144-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-641"><a href="#cb144-641" aria-hidden="true" tabindex="-1"></a><span class="in">df3 &lt;- edit(df2)</span></span>
<span id="cb144-642"><a href="#cb144-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-643"><a href="#cb144-643" aria-hidden="true" tabindex="-1"></a><span class="in">df4 &lt;- df3</span></span>
<span id="cb144-644"><a href="#cb144-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-645"><a href="#cb144-645" aria-hidden="true" tabindex="-1"></a><span class="in">df4[is.na(df4)] &lt;- ""</span></span>
<span id="cb144-646"><a href="#cb144-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-647"><a href="#cb144-647" aria-hidden="true" tabindex="-1"></a><span class="in">df4 &lt;- df4[df4$Obtener.preparar.grabaciones != "borrar", ]</span></span>
<span id="cb144-648"><a href="#cb144-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-649"><a href="#cb144-649" aria-hidden="true" tabindex="-1"></a><span class="in">names(df4) &lt;- c("Función", "Obtener-preparar grabaciones", "Anotar", "Organizar anotaciones", "Medir estructura", "Verificar", "Inspección visual", "Análisis estadístico", "Otros")</span></span>
<span id="cb144-650"><a href="#cb144-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-651"><a href="#cb144-651" aria-hidden="true" tabindex="-1"></a><span class="in">rownames(df4) &lt;- 1:nrow(df4)</span></span>
<span id="cb144-652"><a href="#cb144-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-653"><a href="#cb144-653" aria-hidden="true" tabindex="-1"></a><span class="in">df5 &lt;- df4[order(df4$`Obtener-preparar grabaciones`, df4$Anotar, df4$`Organizar anotaciones`, df4$`Medir estructura`, df4$Verificar, df4$`Inspección visual`, df4$`Análisis estadístico`, df4$Otros, decreasing = TRUE),]</span></span>
<span id="cb144-654"><a href="#cb144-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-655"><a href="#cb144-655" aria-hidden="true" tabindex="-1"></a><span class="in">df4 &lt;- df4[c(5, 8, 18, 29, 34, 35, 37, 38, 39, 55, 56, 26, 1, 19, 40, 46, 4, 11, 16, 17, 24, 25, 32, 41, 45, 7, 12, 13, 14, 15, 23, 27, 30, 42, 47, 48, 57, 2,  3, 28, 44, 50, 51, 52, 58, 9, 10, 21, 22, 59, 6, 20, 31, 33, 36, 43, 49, 53, 54), ]</span></span>
<span id="cb144-656"><a href="#cb144-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-657"><a href="#cb144-657" aria-hidden="true" tabindex="-1"></a><span class="in"># write.csv(df4, "cuadro de funciones warbleR.csv", row.names = FALSE)</span></span>
<span id="cb144-658"><a href="#cb144-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-659"><a href="#cb144-659" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-660"><a href="#cb144-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-661"><a href="#cb144-661" aria-hidden="true" tabindex="-1"></a>&lt;img src="images/analysis-workflow.png" alt="analysis workflow"/&gt;</span>
<span id="cb144-662"><a href="#cb144-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-663"><a href="#cb144-663" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-664"><a href="#cb144-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-665"><a href="#cb144-665" aria-hidden="true" tabindex="-1"></a>We can group **warbleR** functions according to the bioacoustic analysis stages.</span>
<span id="cb144-666"><a href="#cb144-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-667"><a href="#cb144-667" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-668"><a href="#cb144-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-669"><a href="#cb144-669" aria-hidden="true" tabindex="-1"></a><span class="fu">### Get and prepare recordings</span></span>
<span id="cb144-670"><a href="#cb144-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-671"><a href="#cb144-671" aria-hidden="true" tabindex="-1"></a>The <span class="in">`query_xc()`</span> function allows you to search and download sounds from the free access database <span class="co">[</span><span class="ot">Xeno-Canto</span><span class="co">](http://xeno-canto.org/)</span>. You can also convert .mp3 files to .wav, change the sampling rate of the files and correct corrupt files, among other functions.</span>
<span id="cb144-672"><a href="#cb144-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-673"><a href="#cb144-673" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-674"><a href="#cb144-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-675"><a href="#cb144-675" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$Obtener.preparar.grabaciones == "x", c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-676"><a href="#cb144-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-677"><a href="#cb144-677" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-678"><a href="#cb144-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-679"><a href="#cb144-679" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-680"><a href="#cb144-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-681"><a href="#cb144-681" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-682"><a href="#cb144-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-683"><a href="#cb144-683" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-684"><a href="#cb144-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-685"><a href="#cb144-685" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;-  kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-686"><a href="#cb144-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-687"><a href="#cb144-687" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-688"><a href="#cb144-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-689"><a href="#cb144-689" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-690"><a href="#cb144-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-691"><a href="#cb144-691" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-692"><a href="#cb144-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-693"><a href="#cb144-693" aria-hidden="true" tabindex="-1"></a><span class="fu">### Annotating sound</span></span>
<span id="cb144-694"><a href="#cb144-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-695"><a href="#cb144-695" aria-hidden="true" tabindex="-1"></a>It is recommended to make annotations in other programs and then import them into R (for example in Raven and import them with the **Rraven** package). However, **warbleR** offers some functions to facilitate manual or automatic annotation of sound files, as well as the subsequent manipulation:</span>
<span id="cb144-696"><a href="#cb144-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-697"><a href="#cb144-697" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-698"><a href="#cb144-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-699"><a href="#cb144-699" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$Anotar == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-700"><a href="#cb144-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-701"><a href="#cb144-701" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-702"><a href="#cb144-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-703"><a href="#cb144-703" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-704"><a href="#cb144-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-705"><a href="#cb144-705" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-706"><a href="#cb144-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-707"><a href="#cb144-707" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-708"><a href="#cb144-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-709"><a href="#cb144-709" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;-  kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-710"><a href="#cb144-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-711"><a href="#cb144-711" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-712"><a href="#cb144-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-713"><a href="#cb144-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-714"><a href="#cb144-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-715"><a href="#cb144-715" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-716"><a href="#cb144-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-717"><a href="#cb144-717" aria-hidden="true" tabindex="-1"></a><span class="fu">### Organize annotations</span></span>
<span id="cb144-718"><a href="#cb144-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-719"><a href="#cb144-719" aria-hidden="true" tabindex="-1"></a>The annotations (or selection tables) can be manipulated and refined with a variety of functions. Selection tables can also be converted into the compact format *extended selection tables*:</span>
<span id="cb144-720"><a href="#cb144-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-721"><a href="#cb144-721" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-722"><a href="#cb144-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-723"><a href="#cb144-723" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$`Anotar` == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-724"><a href="#cb144-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-725"><a href="#cb144-725" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-726"><a href="#cb144-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-727"><a href="#cb144-727" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-728"><a href="#cb144-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-729"><a href="#cb144-729" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-730"><a href="#cb144-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-731"><a href="#cb144-731" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-732"><a href="#cb144-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-733"><a href="#cb144-733" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-734"><a href="#cb144-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-735"><a href="#cb144-735" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-736"><a href="#cb144-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-737"><a href="#cb144-737" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-738"><a href="#cb144-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-739"><a href="#cb144-739" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-740"><a href="#cb144-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-741"><a href="#cb144-741" aria-hidden="true" tabindex="-1"></a><span class="fu">### Measure acoustic signal structure</span></span>
<span id="cb144-742"><a href="#cb144-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-743"><a href="#cb144-743" aria-hidden="true" tabindex="-1"></a>Most **warbleR** functions are dedicated to quantifying the structure of acoustic signals listed in selection tables using batch processing. For this, 4 main measurement methods are offered:</span>
<span id="cb144-744"><a href="#cb144-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-745"><a href="#cb144-745" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Spectrographic parameters</span>
<span id="cb144-746"><a href="#cb144-746" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Cross correlation</span>
<span id="cb144-747"><a href="#cb144-747" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Dynamic time warping (DTW)</span>
<span id="cb144-748"><a href="#cb144-748" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Statistical descriptors of cepstral coefficients</span>
<span id="cb144-749"><a href="#cb144-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-750"><a href="#cb144-750" aria-hidden="true" tabindex="-1"></a>Most functions gravitate around these methods, or variations of these methods:</span>
<span id="cb144-751"><a href="#cb144-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-752"><a href="#cb144-752" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-753"><a href="#cb144-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-754"><a href="#cb144-754" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$`Medir.estructura` == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-755"><a href="#cb144-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-756"><a href="#cb144-756" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-757"><a href="#cb144-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-758"><a href="#cb144-758" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-759"><a href="#cb144-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-760"><a href="#cb144-760" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-761"><a href="#cb144-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-762"><a href="#cb144-762" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-763"><a href="#cb144-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-764"><a href="#cb144-764" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;-  kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-765"><a href="#cb144-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-766"><a href="#cb144-766" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-767"><a href="#cb144-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-768"><a href="#cb144-768" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-769"><a href="#cb144-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-770"><a href="#cb144-770" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-771"><a href="#cb144-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-772"><a href="#cb144-772" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-773"><a href="#cb144-773" aria-hidden="true" tabindex="-1"></a>&lt;font size="5"&gt;Exercise&lt;/font&gt;</span>
<span id="cb144-774"><a href="#cb144-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-775"><a href="#cb144-775" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-776"><a href="#cb144-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-777"><a href="#cb144-777" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Compare the performance of <span class="in">`spectro_analysis()`</span> on the example 'lbh_selec_table' with "the argument 'fast = TRUE' vs 'fast = FALSE'. What does this argument do and which <span class="in">`seewave`</span> function might be involved?</span>
<span id="cb144-778"><a href="#cb144-778" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-779"><a href="#cb144-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-780"><a href="#cb144-780" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-781"><a href="#cb144-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-782"><a href="#cb144-782" aria-hidden="true" tabindex="-1"></a><span class="fu">### Verify annotations</span></span>
<span id="cb144-783"><a href="#cb144-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-784"><a href="#cb144-784" aria-hidden="true" tabindex="-1"></a>Functions are provided to detect inconsistencies in the selection tables or modify selection tables. The package also offers several functions to generate spectrograms showing the annotations, which can be organized by annotation categories. This allows you to verify if the annotations match the previously defined categories, which is particularly useful if the annotations were automatically generated.</span>
<span id="cb144-785"><a href="#cb144-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-786"><a href="#cb144-786" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-787"><a href="#cb144-787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-788"><a href="#cb144-788" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$Verificar == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-789"><a href="#cb144-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-790"><a href="#cb144-790" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-791"><a href="#cb144-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-792"><a href="#cb144-792" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-793"><a href="#cb144-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-794"><a href="#cb144-794" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-795"><a href="#cb144-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-796"><a href="#cb144-796" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-797"><a href="#cb144-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-798"><a href="#cb144-798" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;-  kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-799"><a href="#cb144-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-800"><a href="#cb144-800" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-801"><a href="#cb144-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-802"><a href="#cb144-802" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-803"><a href="#cb144-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-804"><a href="#cb144-804" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-805"><a href="#cb144-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-806"><a href="#cb144-806" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visually inspection of annotations and measurements</span></span>
<span id="cb144-807"><a href="#cb144-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-808"><a href="#cb144-808" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-809"><a href="#cb144-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-810"><a href="#cb144-810" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$`Inspeccion.visual` == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-811"><a href="#cb144-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-812"><a href="#cb144-812" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-813"><a href="#cb144-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-814"><a href="#cb144-814" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-815"><a href="#cb144-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-816"><a href="#cb144-816" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-817"><a href="#cb144-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-818"><a href="#cb144-818" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-819"><a href="#cb144-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-820"><a href="#cb144-820" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;-  kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-821"><a href="#cb144-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-822"><a href="#cb144-822" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-823"><a href="#cb144-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-824"><a href="#cb144-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-825"><a href="#cb144-825" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-826"><a href="#cb144-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-827"><a href="#cb144-827" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-828"><a href="#cb144-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-829"><a href="#cb144-829" aria-hidden="true" tabindex="-1"></a><span class="fu">### Additional functions</span></span>
<span id="cb144-830"><a href="#cb144-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-831"><a href="#cb144-831" aria-hidden="true" tabindex="-1"></a>Finally, **warbleR** offers functions to simplify the use of extended selection tables, organize large numbers of images with spectrograms and generate elaborated signal visualizations:</span>
<span id="cb144-832"><a href="#cb144-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-833"><a href="#cb144-833" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb144-834"><a href="#cb144-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-835"><a href="#cb144-835" aria-hidden="true" tabindex="-1"></a><span class="in">cf2 &lt;- cf[cf$Analisis.estadistico == "x" | cf$Otros == "x",  c("Function", "Description", "Works.on", "Output")]</span></span>
<span id="cb144-836"><a href="#cb144-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-837"><a href="#cb144-837" aria-hidden="true" tabindex="-1"></a><span class="in">cf2$Function &lt;- kableExtra::cell_spec(x = cf2$Function, link = paste0("https://marce10.github.io/warbleR/reference/", cf2$Function, ".html"))</span></span>
<span id="cb144-838"><a href="#cb144-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-839"><a href="#cb144-839" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- knitr::kable(cf2, align = "c", row.names = F,  format = "html", escape = F)</span></span>
<span id="cb144-840"><a href="#cb144-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-841"><a href="#cb144-841" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 1, bold = TRUE)</span></span>
<span id="cb144-842"><a href="#cb144-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-843"><a href="#cb144-843" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::column_spec(kbl, 2:4, italic = TRUE)</span></span>
<span id="cb144-844"><a href="#cb144-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-845"><a href="#cb144-845" aria-hidden="true" tabindex="-1"></a><span class="in">kbl &lt;- kableExtra::kable_styling(kbl, bootstrap_options = "striped", font_size = 14)</span></span>
<span id="cb144-846"><a href="#cb144-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-847"><a href="#cb144-847" aria-hidden="true" tabindex="-1"></a><span class="in">kbl</span></span>
<span id="cb144-848"><a href="#cb144-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-849"><a href="#cb144-849" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb144-850"><a href="#cb144-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-851"><a href="#cb144-851" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-852"><a href="#cb144-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-853"><a href="#cb144-853" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb144-854"><a href="#cb144-854" aria-hidden="true" tabindex="-1"></a>&lt;font size="5"&gt;Exercise&lt;/font&gt;</span>
<span id="cb144-855"><a href="#cb144-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-856"><a href="#cb144-856" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-857"><a href="#cb144-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-858"><a href="#cb144-858" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Run the examples of the functions <span class="in">`phylo_spectro()`</span> and <span class="in">`color_spectro()`</span></span>
<span id="cb144-859"><a href="#cb144-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-860"><a href="#cb144-860" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Use the <span class="in">`query_xc()`</span> and <span class="in">`map_xc()`</span> functions to explore the geographical distribution of the Xeno-Canto recordings of a species (of bird) of your interest (if any!)</span>
<span id="cb144-861"><a href="#cb144-861" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb144-862"><a href="#cb144-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-863"><a href="#cb144-863" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-864"><a href="#cb144-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-865"><a href="#cb144-865" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb144-866"><a href="#cb144-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-867"><a href="#cb144-867" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb144-868"><a href="#cb144-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-869"><a href="#cb144-869" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Araya-Salas M, G Smith-Vidaurre &amp; M Webster. (2017). Assessing the effect of sound file compression and background noise on measures of acoustic signal structure. Bioacoustics 4622, 1--17</span>
<span id="cb144-870"><a href="#cb144-870" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Araya-Salas M, Smith-Vidaurre G (2017) warbleR: An R package to streamline analysis of animal acoustic signals. Methods Ecol Evol 8:184--191.</span>
<span id="cb144-871"><a href="#cb144-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-872"><a href="#cb144-872" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb144-873"><a href="#cb144-873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-874"><a href="#cb144-874" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb144-875"><a href="#cb144-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-876"><a href="#cb144-876" aria-hidden="true" tabindex="-1"></a>&lt;font size="4"&gt;Session information&lt;/font&gt;</span>
<span id="cb144-877"><a href="#cb144-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-878"><a href="#cb144-878" aria-hidden="true" tabindex="-1"></a><span class="in">```{r session info, echo=F}</span></span>
<span id="cb144-879"><a href="#cb144-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-880"><a href="#cb144-880" aria-hidden="true" tabindex="-1"></a><span class="in">sessionInfo()</span></span>
<span id="cb144-881"><a href="#cb144-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-882"><a href="#cb144-882" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2024 | <a href="https://marce10.github.io">Marcelo Araya-Salas</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>